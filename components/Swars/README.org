* 将棋ウォーズ棋譜検索

** $router.push の直後に $fetch() するのはダメ

   直後に読んでも $route.query は変化してないので $fetch を読んでも古い $route.query を参照してしまう
   $route.query を watch したタイミングだと $route.query は更新されている
   なので絶対に呼びたいときは「失敗したときだけ自分呼ぶ」のが良いと思う
   具体的には $router.push(xxx, () => {}, () => { this.$fetch() }) とすればいい

** 検索手順

*** フォーム

|---+------------------------------------------------------------+------------------------------------------------------|
| 1 | query を変更する。またはしなかったりする                   |                                                      |
| 2 | enter や虫めがねボタンのトリガーで $router.push する       | ユーザーは再検索の意図もあれば、リロードの意図もある |
| 3 | 成功したら $fetch() が呼ばれる。呼ばれなかったら自分で呼ぶ |                                                      |
|---+------------------------------------------------------------+------------------------------------------------------|

*** プログラム (サイドメニューからの検索)

|---+------------------------------------------------------------+------------------------------------------------------------------|
| 1 | まず先に query を変更する                                  | 実際に検索中のものと、検索フォームの値を一致させるため           |
| 2 | その query をつかって $router.push する                    | 異なる値で検索しては差異ができてしまう                           |
| 3 | 成功したら $fetch() が呼ばれる。呼ばれなかったら自分で呼ぶ | リロード感覚で実行できるように失敗(クエリが変化しない)のとき実行 |
|---+------------------------------------------------------------+------------------------------------------------------------------|
