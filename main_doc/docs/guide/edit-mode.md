# 編集モード

## 特徴

* 詰将棋や課題局面を作るときのモード
* マウス操作だけで局面を編集できる
* キーボードと併用すればより効率的に編集できる

## ショートカットキー早見表

| Key             | 実行                 | 対応するマウス操作                     |
|-----------------|----------------------|----------------------------------------|
| `r` `Space`     | 駒反転               | `shift + クリック` `ダブクリ` `右クリ` |
| `v`             | 駒の<b>上下</b>のみ反転  |                                        |
| `h`             | 駒の<b>裏表</b>のみ反転 |                                        |
| `Escape` `q`    | 持駒キャンセル       | `右クリ`                               |
| `b`             | ☗の駒台クリック     |                                        |
| `w`             | ☖の駒台クリック     |                                        |
| `Backspace` `t` | 駒箱クリック         |                                        |
| `q`             | 同じ駒を駒台から取る |                                        |

<!-- * ダブルクリック or 右クリック or 修飾キーを押しながら左クリックで、盤上の駒の反転と向きを変更する(ショートカットキー: `v` `r` `Space`) -->
<!-- * 駒を持った状態で右クリックすると駒を元に戻す (ショートカットキー: `Escape` `q`) -->
<!-- * 駒台または駒箱をクリックしたことにするショートカットキーがある (☗駒台:`b` ☖駒台:`w` 駒箱:`Escape` または `t`) -->
* `w` `b` `Backspace` `t` は真下の駒を**自動的に持ち上げる**操作を含む
* `shift` を押しながらの操作で同じ操作を連続で行う
* 修飾キーは `shift` の他に `option` `meta` `control` も使える

## スピード編集術

### ☖の持駒から金1枚銀2枚を☗に移動する

1. マウスポインタを☖の持駒の金に合わせて `b`
1. マウスポインタを☖の持駒の銀に合わせて `b` `b`

詰将棋でありがちな操作で攻め方の持駒を☖の駒台から `b` で移す

### まとめて移動する

`shift` を押しているとまとめて移動する
たとえば詰将棋で攻め方の持駒が歩18枚だったとする
このとき上の方法だと `b` を18回タイプしないといけないが `shift + b` するとまとめて移動する

### 同じ駒を並べるピペットツール

[Factorio](https://store.steampowered.com/app/427520/Factorio/?l=japanese) に慣れているとイメージしやすいかもしれない
例えば歩を連続して並べるときにマウスだけであれば盤と駒台を往復しないといけない
そんなときは盤上の歩にマウスポインタを合わせて `q` をタイプすれば駒台に行かずとも駒台から歩を取り出す

### 駒を捨てる

マウスポインタを合わせて `t`
詰将棋などで盤上の飾り駒は☖側に捨てたいときは `w`

## Playground

<ShogiPlayerWcWrapper sp_mode="edit" sp_preset="詰将棋" />
