webpackJsonp([2],{"+BTF":function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=_(i("Zrlr")),r=_(i("wxAW")),a=_(i("M4fF")),s=_(i("kHiN"));function _(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,o.default)(this,e),this.kifu_body=t,this.header={}}return(0,r.default)(e,[{key:"parse",value:function(){}},{key:"location_by_offset",value:function(e){return this.location_base.advance(e)}},{key:"board",get:function(){}},{key:"hold_pieces",get:function(){return a.default.reduce(s.default.values,function(e,t){return e[t.key]={},e},{})}},{key:"turn_offset_min",get:function(){return 0}},{key:"turn_offset_max",get:function(){return this.move_infos.length}},{key:"turn_base",get:function(){return 0}},{key:"move_infos",get:function(){}},{key:"comments_pack",get:function(){return null}}]),e}();t.default=u,e.argv[1]}).call(t,i("W2nU"),"/index.js")},"+YQu":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"shortcut_modal",methods:{delete_click_handle:function(){this.$emit("close")}}}},"/B1h":function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(i("Zx67")),r=c(i("Zrlr")),a=c(i("wxAW")),s=c(i("zwoO")),_=c(i("Pf15")),u=c(i("o44n")),l=c(i("kHiN"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,[{key:"locations",get:function(){return this.location_keys.map(function(e){return l.default.fetch(e)})}}],[{key:"define",get:function(){return[{key:"both",name:"☗☖",location_keys:["black","white"]},{key:"black",name:"☗",location_keys:["black"]},{key:"white",name:"☖",location_keys:["white"]},{key:"none",name:"なし",location_keys:[]}]}}]),t}(u.default);t.default=d,e.argv[1]}).call(t,i("W2nU"),"/index.js")},"/S5J":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"columns"},[t("div",{staticClass:"column"},[t("article",{staticClass:"message is-danger has-text-left"},[t("div",{staticClass:"message-header"},[this._t("header")],2),t("div",{staticClass:"message-body"},[this._t("default")],2)])])])},staticRenderFns:[]},o=i("VU/8")(null,n,!1,null,null,null);t.default=o.exports},"1I1s":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(i("Dd8w")),o=C(i("M4fF")),r=C(i("7+uW")),a=i("NYxO"),s=C(i("IcnI")),_=C(i("M4xR")),u=C(i("KqNh")),l=C(i("usXP")),c=C(i("pelb")),d=C(i("8SiQ")),f=C(i("a83v")),p=C(i("zlNq")),h=C(i("/S5J")),m=C(i("lujB")),v=C(i("XXBo")),y=C(i("kGIg")),k=C(i("z7Bs")),b=C(i("2igQ")),g=C(i("4DpC")),x=C(i("dGAP")),P=C(i("s43Y")),w=C(i("6jcy")),$=C(i("EQrV"));function C(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r.default.prototype,"_",{value:o.default}),t.default={name:"ShogiPlayer",store:s.default,mixins:[v.default,y.default,k.default,b.default,g.default,x.default,P.default,w.default,$.default],props:{run_mode:{type:String,default:"view_mode"},kifu_body:{type:String,default:null},start_turn:{type:Number,default:-1},sfen_show:{type:Boolean,default:!1},overlay_navi:{type:Boolean,default:!0},url_embed_turn:{type:Boolean,default:!1},theme:{type:String,default:"real"},size:{type:String,default:"default"},bg_variant:{type:String,default:"a"},piece_variant:{type:String,default:"a"},debug_mode:{type:Boolean,default:!1},digit_show:{type:Boolean,default:!1},final_label:{type:String,default:null},board_piece_back_user_style:{type:Function,default:function(e){return{}}},board_piece_back_user_class:{type:Function,default:function(e){return[]}},board_cell_left_click_user_handle:{type:Function,default:null},player_info:{type:Object,default:null},flip_if_white:{type:Boolean,default:!1}},components:{PieceBox:d.default,PieceStand:f.default,SettingModal:p.default,ErrorNotify:h.default,CommentArea:m.default},data:function(){return{current_run_mode:this.run_mode,turn_edit_value:null,mediator:null,turn_edit:!1,error_message:null,update_counter:0,setting_modal_p:!1,inside_custom_kifu:null,env:"production",view_mode_turn_offset_save:null}},created:function(){this.inside_custom_kifu=null,this.$store.state.current_debug_mode=this.debug_mode,this.$store.state.current_theme=this.theme,this.$store.state.current_size=this.size,this.$store.state.current_bg_variant=this.bg_variant,this.$store.state.current_piece_variant=this.piece_variant,"view_mode"===this.current_run_mode&&(this.kifu_url?(this.axios_call(),this.polling_interval_update()):this.mediator_setup(this.start_turn)),"play_mode"===this.current_run_mode&&(this.mediator_setup(this.start_turn),this.play_mode_setup_from("view_mode")),"edit_mode"===this.current_run_mode&&(this.preset_key?this.mediator_setup_by_preset(this.preset_key):this.mediator_setup_for_edit_mode())},watch:{turn_edit_value:function(){this.current_turn_set(this.turn_edit_value)},start_turn:function(){this.current_turn_set(this.start_turn)},kifu_source:function(){if("edit_mode"!==this.current_run_mode){var e=this.mediator?this.mediator.to_simple_sfen:"";this.log("before turn_offset_max: "+this.turn_offset_max),this.log("before sfen: "+e),this.mediator_setup(this.start_turn),this.log("after turn_offset_max: "+this.turn_offset_max),this.log("after sfen: "+this.mediator.to_simple_sfen);var t=e!==this.mediator.to_simple_sfen;"view_mode"===this.current_run_mode&&t&&this.sound_call("piece_sound"),"play_mode"===this.current_run_mode&&(this.play_mode_setup_from("view_mode"),t&&this.sound_call("piece_sound"))}else this.mediator_setup_for_edit_mode()},current_run_mode:function(e,t){if(this.$emit("update:run_mode",this.current_run_mode),"view_mode"===this.current_run_mode?(this.log("current_run_mode: view_mode"),this.view_mode_mediator_update(this.view_mode_turn_offset_save),this.view_mode_turn_offset_save=null):null===this.view_mode_turn_offset_save&&(this.view_mode_turn_offset_save=this.turn_offset),"play_mode"===this.current_run_mode&&this.play_mode_setup_from(t),"edit_mode"===this.current_run_mode){this.log("current_run_mode: edit_mode");var i=new _.default;i.data_source=this.data_source_by(this.mediator.to_position_sfen),i.current_turn=0,i.run(),this.mediator=i,this.init_location_key=i.current_location.key}},current_debug_mode:function(e){this.$emit("update:debug_mode",e)},debug_mode:function(e){this.$store.commit("current_debug_mode_set",e)},run_mode:function(e){this.current_run_mode=e},current_theme:function(e){this.$emit("update:theme",e)},theme:function(e){this.$store.state.current_theme=e},current_size:function(e){this.$emit("update:size",e)},size:function(e){this.$store.state.current_size=e},current_bg_variant:function(e){this.$emit("update:bg_variant",e)},bg_variant:function(e){this.$store.state.current_bg_variant=e},current_piece_variant:function(e){this.$emit("update:piece_variant",e)},piece_variant:function(e){this.$store.state.current_piece_variant=e}},methods:{mediator_setup:function(e){this.mediator=new _.default,this.mediator.data_source=this.data_source_by(this.kifu_source),this.mediator.current_turn=e,this.mediator.run(),this.flip_if_white_run()},mediator_setup_for_edit_mode:function(){this.mediator=new _.default,this.mediator.data_source=this.data_source_by(this.kifu_source),this.mediator.current_turn=0,this.mediator.run(),this.init_location_key=this.mediator.current_location.key,this.mediator.current_turn=this.start_turn,this.mediator.run(),this.mediator.piece_box_piece_couns_adjust(),this.flip_if_white_run()},flip_if_white_run:function(){this.flip_if_white&&(this.$store.state.current_flip="white"===this.mediator.data_source.location_base.key)},view_mode_mediator_update:function(e){this.mediator_setup(e),this.url_embed_turn&&(document.location.hash=this.turn_offset),this.update_counter++},data_source_by:function(e){var t=null;return(t=/position/.test(e)?new l.default:new c.default).kifu_body=e,t.parse(),t},turn_edit_run:function(){var e=this;this.turn_edit=!0,this.turn_edit_value=this.turn_offset,this.$nextTick(function(){return e.$refs.turn_edit_input.focus()})},log:function(){var e;this.current_debug_mode&&(e=console).log.apply(e,arguments)},board_piece_back_class:function(e){var t=u.default.fetch(e),i=this.mediator.board.lookup(t),n=[];if(n.push(t.to_css_class),this.holding_p&&n.push("hoverable_p"),!this.holding_p&&this.mediator.last_hand){var r=this.mediator.last_hand.origin_place;r&&o.default.isEqual(r,t)&&n.push("origin_place"),o.default.isEqual(this.mediator.last_hand.place,t)&&n.push("current")}return o.default.isEqual(this.place_from,t)?n.push("holding_p"):i&&("edit_mode"===this.current_run_mode||!this.cpu_location_p&&this.mediator.current_location===i.location)&&(this.holding_p||n.push("selectable_p")),this.board_piece_back_user_class&&(n=o.default.concat(n,this.board_piece_back_user_class(t))),n},board_piece_back_style:function(e){if(this.board_piece_back_user_style)return this.board_piece_back_user_style(u.default.fetch(e))},update_kifu_source:function(e){this.inside_custom_kifu=e,this.$emit("update:kifu_body",e)}},computed:(0,n.default)({class_names:function(){return["theme-"+this.current_theme,"size-"+this.current_size,"bg_variant-"+this.current_bg_variant,"piece_variant-"+this.current_piece_variant,"run_mode-"+this.current_run_mode,{debug_mode:this.current_debug_mode},{digit_show:this.digit_show},this.current_vlayout?"vertical":"horizontal"]},kifu_source:function(){return this.inside_custom_kifu||this.kifu_body_from_url||this.kifu_body||this.init_preset_sfen||"position startpos"},turn_base:function(){if(this.mediator)return this.mediator.turn_base},turn_offset:function(){if(this.mediator)return this.mediator.turn_offset},display_turn:function(){if(this.mediator)return this.mediator.display_turn},turn_offset_min:function(){if(this.mediator)return this.mediator.turn_offset_min},turn_offset_max:function(){if(this.mediator)return this.mediator.turn_offset_max}},(0,a.mapState)({}),(0,a.mapState)(["current_debug_mode","current_theme","current_size","current_bg_variant","current_piece_variant"]))}},"2TpH":function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shogi-player shortcut_modal modal-card box has-text-left",staticStyle:{width:"auto"},on:{click:e.delete_click_handle}},[i("div",{staticClass:"has-text-weight-bold simple_title is-size-5 pb-3"},[e._v("キーボードショートカット")]),i("table",{staticClass:"modal-card-body table is-fullwidth mt-3 mb-0"},[i("tbody",[i("tr",[i("th",[e._v("駒の反転")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("SPACE")]),i("b-tag",{staticClass:"ml-1",attrs:{type:"is-primary"}},[e._v("V")]),i("b-tag",{staticClass:"ml-1",attrs:{type:"is-primary"}},[e._v("R")]),i("b-tag",{staticClass:"ml-3",attrs:{type:""}},[e._v("修飾キー")]),i("span",{staticClass:"mx-1"},[e._v("+")]),i("b-tag",{attrs:{type:""}},[e._v("左クリック")])],1)]),i("tr",[i("th",[e._v("カーソル下の駒と同じ駒を駒台から取り出す")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("Q")])],1)]),i("tr",[i("th",[e._v("持った駒を元に戻す")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("ESC")]),i("b-tag",{staticClass:"ml-1",attrs:{type:"is-primary"}},[e._v("Q")]),i("b-tag",{staticClass:"ml-3",attrs:{type:""}},[e._v("右クリック")])],1)]),i("tr",[i("th",[e._v("カーソル下の駒を☗の駒台に移動")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("B")])],1)]),i("tr",[i("th",[e._v("カーソル下の駒を☖の駒台に移動")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("W")])],1)]),i("tr",[i("th",[e._v("カーソル下の駒を駒箱に移動")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("T")]),i("b-tag",{staticClass:"ml-1",attrs:{type:"is-primary"}},[e._v("BACKSPACE")]),i("b-tag",{staticClass:"ml-1",attrs:{type:"is-primary"}},[e._v("DELETE")])],1)]),i("tr",[i("th",[e._v("盤面シャッフル")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("!")]),i("span",{staticClass:"is-size-7 mx-1"},[e._v("で ON / OFF して")]),i("b-tag",{attrs:{type:"is-primary"}},[e._v("1")]),i("span",{staticClass:"is-size-7 mx-1"},[e._v("から")]),i("b-tag",{attrs:{type:"is-primary"}},[e._v("9")])],1)]),i("tr",[i("th",[e._v("盤面ローテイト")]),i("td",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("修飾キー")]),i("span",{staticClass:"mx-1"},[e._v("+")]),i("b-tag",{attrs:{type:"is-primary"}},[i("b-icon",{attrs:{icon:"arrow-all",size:"is-small"}})],1)],1)]),i("tr",[i("th",[e._v("キーボードショートカットの表示")]),i("td",[i("b-taglist",[i("b-tag",{attrs:{type:"is-primary"}},[e._v("?")])],1)],1)])])]),i("hr",{staticClass:"is-marginless mt-2"}),i("ul",{staticClass:"mt-4 has-text-centered is-size-7"},[i("li",[e._v("移動は"),i("b-tag",{staticClass:"mx-1",attrs:{type:"is-primary"}},[e._v("修飾キー")]),e._v("を合わせると"),i("b",[e._v("まとめて")]),e._v("行う")],1)])])},staticRenderFns:[]};t.a=n},"2igQ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(i("Gu7T")),o=_(i("M4fF")),r=_(i("M4xR")),a=_(i("kHiN")),s=_(i("/B1h"));function _(e){return e&&e.__esModule?e:{default:e}}t.default={props:{human_side_key:{type:String,default:"both"}},data:function(){return{moves:[],init_sfen:null,init_location_key:"black"}},created:function(){var e=this;this.$watch(function(){return[e.mediator,e.init_location_key]},function(){e.emit_update_edit_mode_snapshot_sfen()},{deep:!0})},mounted:function(){},watch:{edit_mode_snapshot_sfen2:function(e){this.$emit("update:edit_mode_snapshot_sfen2",e)},mediator:{handler:function(e){this.$emit("update:mediator_snapshot_sfen",e.to_position_sfen)},deep:!0},turn_offset:function(e){this.$emit("update:turn_offset",e)}},methods:{play_mode_setup_from:function(e){this.log("play_mode_setup_from"),void 0!==this.mediator.data_source.init_sfen?("view_mode"===e&&(this.init_sfen=this.mediator.data_source.init_sfen,this.moves=this.mediator.data_source.moves),"edit_mode"===e&&this.init_sfen_set()):("view_mode"===e&&(this.init_location_key=this.mediator.current_location.key),this.init_sfen_set()),this.play_mode_mediator_seek_to(this.turn_offset)},init_sfen_set:function(){this.init_sfen=this.edit_mode_snapshot_sfen(),this.moves=[]},play_mode_mediator_seek_to:function(e){this.mediator=new r.default,this.mediator.data_source=this.data_source_by(this.play_mode_full_moves_sfen),this.mediator.current_turn=e,this.mediator.run(),this.flip_if_white_run()},moves_set:function(e){this.moves=[].concat((0,n.default)(this.moves_take_turn_offset),[e])},turn_next:function(){"play_mode"===this.current_run_mode&&(this.mediator=new r.default,this.mediator.data_source=this.data_source_by(this.play_mode_full_moves_sfen),this.mediator.current_turn=-1,this.mediator.run(),this.sound_call("piece_sound"),this.$emit("update:play_mode_advanced_full_moves_sfen",this.play_mode_full_moves_sfen),this.$emit("update:play_mode_advanced_last_move",o.default.last(this.moves)),this.$emit("update:play_mode_advanced_moves",this.moves),this.$emit("update:play_mode_advanced_snapshot_sfen",this.mediator.to_position_sfen),this.$refs.turn_slider&&this.$refs.turn_slider.focus())},edit_mode_snapshot_sfen:function(){if(this.mediator){var e=this.mediator.sfen_serializer;return["position sfen",e.to_board_sfen,this.init_location.key[0],e.to_hold_pieces,1].join(" ")}},emit_update_edit_mode_snapshot_sfen:function(){this.$emit("update:edit_mode_snapshot_sfen",this.edit_mode_snapshot_sfen())}},computed:{play_mode_full_moves_sfen:function(){if(this.init_sfen)return this.init_sfen+" moves "+this.moves.join(" ")},init_location:function(){return a.default.fetch(this.init_location_key)},human_locations:function(){return s.default.fetch(this.human_side_key).locations},moves_take_turn_offset:function(){return o.default.take(this.moves,this.turn_offset)},edit_mode_snapshot_sfen2:function(){return this.edit_mode_snapshot_sfen()}}}},"2m4z":function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"modal-card has-text-left",staticStyle:{width:"auto"}},[i("header",{staticClass:"modal-card-head"},[i("p",{staticClass:"modal-card-title"},[e._v("設定")]),i("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.close()}}})]),i("section",{staticClass:"modal-card-body"},[i("b-field",{attrs:{label:"モード"}}),i("b-field",[e._l(e.RunModeInfo.values,function(t){return[i("b-radio-button",{attrs:{"native-value":t.key},model:{value:e.current_run_mode,callback:function(t){e.current_run_mode=t},expression:"current_run_mode"}},[e._v(e._s(t.name))])]})],2),i("b-field",{attrs:{grouped:"grouped"}},[i("b-field",{attrs:{label:"反転"}},[i("b-switch",{model:{value:e.flip,callback:function(t){e.flip=t},expression:"flip"}})],1),i("b-field",{attrs:{label:"縦並び"}},[i("b-switch",{model:{value:e.vlayout,callback:function(t){e.vlayout=t},expression:"vlayout"}})],1),i("b-field",{attrs:{label:"デバッグモード"}},[i("b-switch",{model:{value:e.current_debug_mode,callback:function(t){e.current_debug_mode=t},expression:"current_debug_mode"}})],1)],1),e._e(),i("b-field",{attrs:{label:"テーマ"}}),i("b-field",[e._l(e.ThemeInfo.values,function(t){return[i("b-radio-button",{attrs:{"native-value":t.key},model:{value:e.$store.state.current_theme,callback:function(t){e.$set(e.$store.state,"current_theme",t)},expression:"$store.state.current_theme"}},[e._v(e._s(t.name))])]})],2),"real"===e.$store.state.current_theme?[i("div",{staticClass:"box"},[i("b-field",{attrs:{label:"背景の種類"}}),i("b-field",[e._l(e.BgVariantInfo.values,function(t){return[i("b-radio-button",{attrs:{"native-value":t.key,size:"is-small"},model:{value:e.$store.state.current_bg_variant,callback:function(t){e.$set(e.$store.state,"current_bg_variant",t)},expression:"$store.state.current_bg_variant"}},[e._v(e._s(t.name))])]})],2),i("b-field",{attrs:{label:"駒の種類"}}),i("b-field",[e._l(e.PieceVariantInfo.values,function(t){return[i("b-radio-button",{attrs:{"native-value":t.key},model:{value:e.$store.state.current_piece_variant,callback:function(t){e.$set(e.$store.state,"current_piece_variant",t)},expression:"$store.state.current_piece_variant"}},[e._v(e._s(t.name))])]})],2)],1)]:e._e(),i("b-field",{attrs:{label:"サイズ"}}),i("b-field",[e._l(e.SizeInfo.values,function(t){return[i("b-radio-button",{attrs:{"native-value":t.key,size:"is-small"},model:{value:e.$store.state.current_size,callback:function(t){e.$set(e.$store.state,"current_size",t)},expression:"$store.state.current_size"}},[e._v(e._s(t.name))])]})],2),e.sp_data.mediator?[i("b-field",{attrs:{label:"再生モードの現局面(Readonly)"}},[i("b-input",{attrs:{value:e.sp_data.mediator.to_position_sfen,type:"input",size:"is-small",readonly:"readonly"}})],1)]:e._e(),i("b-field",{attrs:{label:"編集モードの現局面(Readonly) ※BUG:駒を反転したときに反映されない場合がある"}},[i("b-input",{attrs:{value:e.edit_mode_snapshot_sfen2,type:"input",size:"is-small",readonly:"readonly"}})],1),i("b-field",{attrs:{label:"再生モードの棋譜(編集可)"}},[i("b-input",{attrs:{type:"textarea",size:"is-small"},model:{value:e.kifu_source2,callback:function(t){e.kifu_source2=t},expression:"kifu_source2"}})],1),i("b-field",{attrs:{label:"操作モードの棋譜(Readonly)"}},[i("b-input",{staticClass:"is-small",attrs:{value:e.play_mode_full_moves_sfen,type:"textarea",size:"is-small",readonly:"readonly"}})],1)],2),i("footer",{staticClass:"modal-card-foot"},[i("button",{staticClass:"button is-primary",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.close()}}},[e._v("閉じる")])])])},staticRenderFns:[]};t.a=n},"2uHW":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(i("pioc")),o=_(i("ABOW")),r=_(i("a0AN")),a=_(i("Ustg")),s=_(i("Vex2"));function _(e){return e&&e.__esModule?e:{default:e}}t.default={props:{run_mode:{required:!0},kifu_source:{required:!1},play_mode_full_moves_sfen:{required:!0},edit_mode_snapshot_sfen2:{required:!0},sp_data:{required:!0}},data:function(){return{RunModeInfo:n.default,ThemeInfo:o.default,SizeInfo:r.default,BgVariantInfo:a.default,PieceVariantInfo:s.default,current_run_mode:this.run_mode,kifu_source2:this.kifu_source}},watch:{current_run_mode:function(e){this.$emit("update:run_mode",e)},kifu_source2:function(e){this.$emit("update:kifu_body",e)}},methods:{},computed:{flip:{get:function(){return this.$store.state.current_flip},set:function(e){this.$store.state.current_flip=e}},vlayout:{get:function(){return this.$store.state.current_vlayout},set:function(e){this.$store.state.current_vlayout=e}},current_debug_mode:{get:function(){return this.$store.state.current_debug_mode},set:function(e){this.$store.commit("current_debug_mode_set",e)}}}}},"4DpC":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(i("M4fF")),o=s(i("bmB0")),r=s(i("N1+3")),a=s(i("G1k4"));function s(e){return e&&e.__esModule?e:{default:e}}t.default={props:{sound_effect:{type:Boolean,default:!1},volume:{type:Number,default:.5}},data:function(){return{}},created:function(){this.sound_setup()},watch:{sound_effect:function(){this.sound_setup()},volume:function(){this.sound_setup()}},methods:{sound_call:function(e){if(this.sound_effect){var t=this[e=this.as_key(e)];t&&(t.play(),this.log('sound_call("'+e+'")'))}},sound_setup:function(){this.sound_load("piece_sound",r.default),this.sound_load("flip_sound",a.default)},sound_load:function(e,t){if(this.sound_effect){var i=this[e=this.as_key(e)];n.default.isNil(i)&&(this[e]=new o.default(t)),this[e].options.volume=this.volume}},as_key:function(e){return"$"+e}}}},"652U":function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"詰将棋",sfen:"position sfen 4k4/9/9/9/9/9/9/9/9 b 2r2b4g4s4n4l18p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"詰将棋 - 美濃",sfen:"position sfen ln1g5/1ks6/1ppp5/p8/9/9/9/9/9 b BGSNL2rb2g2s2n2l14p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"詰将棋 - 矢倉",sfen:"position sfen 7nl/6gk1/5gspp/5pp2/9/9/9/9/9 b BGSNL2rbg2s2n2l14p 1",first_location_key:"black",piece_box:[["K",1]]},{key:"戦型 右四間 vs 四間飛車",sfen:"position sfen ln1g1g1nl/1ks2r3/1pppp1bpp/p3spp2/9/P1P1SP1PP/1P1PP1P2/1BK1GR3/LNSG3NL b - 25",first_location_key:"black",piece_box:[]},{key:"全部駒箱",sfen:"position sfen 9/9/9/9/9/9/9/9/9 b - 1",first_location_key:"black",piece_box:[["B",2],["R",2],["L",4],["N",4],["S",4],["G",4],["P",18],["K",2]]},{key:"平手",sfen:"position sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1",first_location_key:"black",piece_box:[]},{key:"香落ち",sfen:"position sfen lnsgkgsn1/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"右香落ち",sfen:"position sfen 1nsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["L",1]]},{key:"角落ち",sfen:"position sfen lnsgkgsnl/1r7/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1]]},{key:"飛車落ち",sfen:"position sfen lnsgkgsnl/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1]]},{key:"飛香落ち",sfen:"position sfen lnsgkgsn1/7b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["R",1],["L",1]]},{key:"二枚落ち",sfen:"position sfen lnsgkgsnl/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1]]},{key:"三枚落ち",sfen:"position sfen lnsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",1]]},{key:"四枚落ち",sfen:"position sfen 1nsgkgsn1/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2]]},{key:"六枚落ち",sfen:"position sfen 2sgkgs2/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2]]},{key:"八枚落ち",sfen:"position sfen 3gkg3/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2]]},{key:"十枚落ち",sfen:"position sfen 4k4/9/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2]]},{key:"十九枚落ち",sfen:"position sfen 4k4/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9]]},{key:"二十枚落ち",sfen:"position sfen 9/9/9/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL w - 1",first_location_key:"white",piece_box:[["B",1],["R",1],["L",2],["N",2],["S",2],["G",2],["P",9],["K",1]]}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},"6hdJ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i("7+uW")),o=a(i("M4fF")),r=a(i("L4YK"));function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n.default.prototype,"_",{value:o.default}),t.default={props:{comments_pack:{required:!0},current_comments:{required:!0}},created:function(){this.autolinker=new r.default},methods:{auto_link:function(e){return this.autolinker.link(e)}}}},"6jcy":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i("mtWM"),r=(n=o)&&n.__esModule?n:{default:n};var a=i("Fy0/")("debug");t.default={props:{kifu_url:{type:String,default:null},polling_interval:{type:Number,default:0}},data:function(){return{interval_id:null,kifu_body_from_url:null}},created:function(){},mounted:function(){},watch:{kifu_url:function(){this.axios_call()},polling_interval:function(){this.polling_interval_update()}},methods:{polling_interval_update:function(){var e=this;this.polling_interval>=1&&(this.interval_id&&(this.log("clearInterval("+this.interval_id+")"),clearInterval(this.interval_id),this.interval_id=null),this.interval_id=setInterval(function(){e.axios_call()},1e3*this.polling_interval),this.log("setInterval() => "+this.interval_id))},axios_call:function(){var e=this,t=this.kifu_url,i=Date.now().toString();(0,r.default)({url:t,method:"get",params:{accessd_at:i},responseType:"text",timeout:3e3,headers:{"X-SHOGI-PLAYER-TIMESTAMP":i}}).then(function(t){e.error_message=null,e.inside_custom_kifu=null,e.kifu_body_from_url=t.data}).catch(function(t){t.response?(a("error.response.data: %o",t.response.data),a("error.response.status: %o",t.response.status),a("error.response.statusText: %o",t.response.statusText),a("error.response.headers: %o",t.response.headers)):t.request?a("error.request: %o",t.request):a("error.message: %o",t.message),a("error.config: %o",t.config),e.kifu_body_from_url=null,e.error_message=t.message})}},computed:{}}},"8SiQ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("gJNb"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("i2Xt"),s=i("VU/8")(o.a,a.a,!1,null,null,null);t.default=s.exports},ABOW:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"none",name:"なし"},{key:"simple",name:"紙面風"},{key:"real",name:"画像駒"}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},EQrV:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("HLQd")),o=r(i("M4xR"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={methods:{api_random_puton:function(){var e=n.default.random();return this.mediator.board.clear(),this.mediator.board.place_on(e),e},api_place_on:function(e){this.mediator.board.place_on(e)},api_board_clear:function(){this.mediator.board.clear()},api_board_turn_set:function(e){this.mediator_setup(e)},api_play_mode_mediator_seek_to:function(e){this.play_mode_mediator_seek_to(e)},api_flip_set:function(e){this.$store.state.current_flip=e},api_retract_a_move:function(){var e=this.turn_offset-2;e<0&&(e=0),this.api_board_turn_set(e)},api_sfen_or_kif_set:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.mediator=new o.default,this.mediator.data_source=this.data_source_by(e),this.mediator.current_turn=t.turn||0,this.mediator.run()}}}},"Ev2+":function(e,t){},G1k4:function(e,t,i){e.exports=i.p+"static/media/flip_sound.df51ba2.wav"},HLQd:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=f(i("woOf")),r=f(i("Zrlr")),a=f(i("wxAW")),s=f(i("7+uW")),_=f(i("M4fF")),u=f(i("iy8a")),l=f(i("KqNh")),c=f(i("P4Jg")),d=f(i("kHiN"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,r.default)(this,e),this.attributes=(0,o.default)({},t)}return(0,a.default)(e,null,[{key:"random",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).place;if(!e){var t=_.default.random(0,u.default.dimension-1),i=_.default.random(0,u.default.dimension-1);e=l.default.fetch([t,i])}var n=c.default.fetch(_.default.random(0,c.default.values.length-1));return new this({piece:n,place:e,promoted:n.promotable_p&&0===_.default.random(0,1),location:d.default.fetch(_.default.random(0,d.default.values.length-1))})}}]),(0,a.default)(e,[{key:"piece",get:function(){return this.attributes.piece}},{key:"place",set:function(e){s.default.set(this.attributes,"place",e)},get:function(){return this.attributes.place}},{key:"location",get:function(){return this.attributes.location}},{key:"promoted",get:function(){return!!this.attributes.promoted},set:function(e){s.default.set(this.attributes,"promoted",e)}},{key:"name",get:function(){return this.promoted?this.piece.promoted_name:this.piece.name}},{key:"piece_transform",get:function(){var t=null;return t=this.piece.promotable_p?this.promoted?{location:this.location.flip,promoted:!this.promoted}:{promoted:!this.promoted}:{location:this.location.flip},new e((0,o.default)({},this.attributes,t))}},{key:"promotable_p",get:function(){if(this.piece.promotable_p&&!this.promoted)return this.danger_zone_p}},{key:"danger_zone_p",get:function(){return"black"===this.location.key?this.place.y<u.default.danger_zone_size:this.place.y>=u.default.dimension-u.default.danger_zone_size}},{key:"to_class_list",get:function(){var e=[];return e.push("location_"+this.location.key),e.push("promoted_"+this.promoted),e=_.default.concat(e,this.piece.css_class_list)}},{key:"bottom_spaces",get:function(){return u.default.dimension-1-this.top_spaces}},{key:"top_spaces",get:function(){return this.place.flip_if_white(this.location).y}}]),e}();if(t.default=p,e.argv[1]===n)new p({place:new l.default([1,7]),piece:c.default.fetch("P"),promoted:!0,location:d.default.fetch("white")})}).call(t,i("W2nU"),"/index.js")},IcnI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i("NYxO"),r=(n=o)&&n.__esModule?n:{default:n};t.default=function(){return new r.default.Store({state:{current_flip:!1,current_vlayout:!1,current_debug_mode:!1,current_theme:null,current_size:null,current_bg_variant:null,current_piece_variant:null},mutations:{flip_toggle:function(e){e.current_flip=!e.current_flip},current_debug_mode_set:function(e,t){e.current_debug_mode=t,this.$emit("update:debug_mode",t)}}})}},KqNh:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=c(i("INCx")),r=c(i("d7EF")),a=c(i("u2KI")),s=c(i("Zrlr")),_=c(i("wxAW")),u=c(i("M4fF")),l=c(i("iy8a"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){(0,s.default)(this,e);var i=void 0,n=void 0;if(u.default.isString(t)){var o=this._parse_from_string(t),a=(0,r.default)(o,2);i=a[0],n=a[1]}else{var _=(0,r.default)(t,2);i=_[0],n=_[1]}var l=[i,n];this._x=l[0],this._y=l[1]}return(0,_.default)(e,null,[{key:"fetch",value:function(t){return t instanceof this?t:(0,a.default)(new e(t))}},{key:"xy_valid_p",value:function(e,t){return 0<=e&&e<l.default.dimension&&0<=t&&t<l.default.dimension}}]),(0,_.default)(e,[{key:"flip_if_white",value:function(e){return"white"===e.key?this.flip_all:this}},{key:"_parse_from_string",value:function(e){var t=this,i=(e=e.replace(/([１-９一二三四五六七八九a-z])/g,function(e){return t._replace_table[e]})).split("").map(function(e){return Number(e)}),n=(0,r.default)(i,2),o=n[0],a=n[1];return[l.default.dimension-o,a-1]}},{key:"rotate_add",value:function(t,i){var n=this.__new_pos(this._x,t),o=this.__new_pos(this._y,i);return e.fetch([n,o])}},{key:"__new_pos",value:function(e,t){return(0,o.default)((e+t+l.default.dimension)%l.default.dimension)}},{key:"key",get:function(){return[this._x,this._y].toString()}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"human_x",get:function(){return l.default.dimension-this._x}},{key:"kanji_human_x",get:function(){return{1:"１",2:"２",3:"３",4:"４",5:"５",6:"６",7:"７",8:"８",9:"９"}[this.human_x]}},{key:"kanji_human_y",get:function(){return{1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"七",8:"八",9:"九"}[this.human_y]}},{key:"human_y",get:function(){return this._y+1}},{key:"flip_all",get:function(){return e.fetch([l.default.dimension-1-this._x,l.default.dimension-1-this._y])}},{key:"flip_h",get:function(){return e.fetch([l.default.dimension-1-this._x,this._y])}},{key:"_replace_table",get:function(){return{"１":1,"２":2,"３":3,"４":4,"５":5,"６":6,"７":7,"８":8,"９":9,"一":1,"二":2,"三":3,"四":4,"五":5,"六":6,"七":7,"八":8,"九":9,a:1,b:2,c:3,d:4,e:5,f:6,g:7,h:8,i:9}}},{key:"to_sfen",get:function(){return[l.default.dimension-this._x,["a","b","c","d","e","f","g","h","i"][this._y]].join("")}},{key:"to_css_class",get:function(){return"place_"+this.human_digits}},{key:"human_xy_ary",get:function(){return[this.human_x,this.human_y]}},{key:"human_digits",get:function(){return this.human_xy_ary.join("")}},{key:"kanji_human",get:function(){return[this.kanji_human_x,this.kanji_human_y].join("")}}]),e}();t.default=d,e.argv[1]}).call(t,i("W2nU"),"/index.js")},M4xR:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=v(i("d7EF")),o=v(i("W3Iv")),r=v(i("Zrlr")),a=v(i("wxAW")),s=v(i("M4fF")),_=v(i("7+uW")),u=v(i("iy8a")),l=v(i("KqNh")),c=v(i("P4Jg")),d=v(i("HLQd")),f=v(i("usXP")),p=v(i("XJjB")),h=v(i("652U")),m=v(i("kHiN"));function v(e){return e&&e.__esModule?e:{default:e}}var y=function(){function e(){(0,r.default)(this,e);var t=new f.default;t.kifu_body="position startpos",t.parse(),this.data_source=t,this.current_turn=0,this.board=null,this.hold_pieces=null,this.last_hand=null,this.piece_box={},this.env="production"}return(0,a.default)(e,[{key:"run",value:function(){var e=this;this.board=this.data_source.board,this.hold_pieces=this.data_source.hold_pieces,this.last_hand=null;var t=this.data_source.move_infos,i=this.turn_offset-this.turn_offset_min;(0,s.default)(i).times(function(i){e.execute_one(t[i])})}},{key:"execute_one",value:function(e){if(this.last_hand=e,e.drop_piece){var t=new d.default({piece:e.drop_piece,place:e.place,promoted:e.promoted,location:e.location});this.hold_pieces_add(e.location,t.piece,-1),this.board.place_on(t)}else{var i=this.board.lookup(e.place);i&&this.hold_pieces_add(e.location,i.piece,1);var n=this.board.lookup(e.origin_place);e.promoted_trigger&&(n.promoted=!0),n.place=e.place,this.board.delete_at(e.origin_place),this.board.place_on(n)}}},{key:"hold_pieces_count",value:function(e,t){return this.hold_pieces[e.key][t.key]||0}},{key:"hold_pieces_add",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.hold_pieces_count(e,t)+i,o=this.hold_pieces[e.key];_.default.delete(o,t.key),n>=1&&_.default.set(o,t.key,n)}},{key:"hold_pieces_can_be_reduced_count",value:function(e,t,i){var n=this.hold_pieces_count(e,t);return i>n&&(i=n),i}},{key:"board_safe_delete_on",value:function(e){this.board.delete_at(e)}},{key:"board_piece_fore_class",value:function(e){var t=l.default.fetch(e),i=this.board.lookup(t);return i?i.to_class_list:[]}},{key:"cell_piece_class",value:function(e){var t=l.default.fetch(e),i=this.board.lookup(t),n=[];return i&&n.push("location_"+i.location.key),n}},{key:"cell_view",value:function(e){var t=l.default.fetch(e),i=this.board.lookup(t),n="";return i&&(n=i.name),n}},{key:"turn_clamp",value:function(e){return s.default.clamp(Number(e),this.turn_offset_min,this.turn_offset_max)}},{key:"current_turn_label",value:function(e){return this.turn_offset===this.turn_offset_max?e?"まで"+this.display_turn+"手で"+e:"まで"+this.display_turn+"手で"+this.previous_location.name+"の勝ち":this.display_turn+"手"}},{key:"realized_hold_pieces_of",value:function(e){var t=(0,o.default)(this.hold_pieces[e]);return(0,s.default)(t).filter(function(e){var t=(0,n.default)(e,2);t[0];return t[1]>=1}).map(function(e){var t=(0,n.default)(e,2),i=t[0],o=t[1];return[c.default.fetch(i),o]}).sortBy(function(e){var t=(0,n.default)(e,2),i=t[0];t[1];return i.code}).value()}},{key:"piece_box_count",value:function(e){return this.piece_box[e.key]||0}},{key:"piece_box_add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.piece_box_count(e)+t;_.default.delete(this.piece_box,e.key),i>=1&&_.default.set(this.piece_box,e.key,i)}},{key:"piece_box_can_be_reduced_count",value:function(e,t){var i=this.piece_box_count(e);return t>i&&(t=i),t}},{key:"piece_box_realize",value:function(){var e=(0,o.default)(this.piece_box);return(0,s.default)(e).filter(function(e){var t=(0,n.default)(e,2);t[0];return t[1]>=1}).map(function(e){var t=(0,n.default)(e,2),i=t[0],o=t[1];return[c.default.fetch(i),o]}).sortBy(function(e){var t=(0,n.default)(e,2),i=t[0];t[1];return i.code}).value()}},{key:"hold_pieces_to_piece_box",value:function(e){var t=this;s.default.forIn(this.hold_pieces[e.key],function(i,n){var o=c.default.fetch(n);t.hold_pieces_add(e,o,-i),t.piece_box_add(o,i)})}},{key:"piece_box_to_hold_pieces",value:function(e){var t=this;s.default.forIn(this.piece_box,function(i,n){var o=c.default.fetch(n);t.piece_box_add(o,-i),t.hold_pieces_add(e,o,i)})}},{key:"piece_box_reset_by_preset",value:function(e){var t=this;this.piece_box_clear(),h.default.fetch(e).piece_box.forEach(function(e){var i=(0,n.default)(e,2),o=i[0],r=i[1];t.piece_box_add(c.default.fetch(o),r)})}},{key:"piece_box_piece_couns_adjust",value:function(){var e=this;this.piece_box_clear();var t=this.hold_piece_all_counts_hash,i=this.board.piece_counts_hash;h.default.fetch("全部駒箱").piece_box.forEach(function(o){var r=(0,n.default)(o,2),a=r[0],s=r[1],_=c.default.fetch(a),u=s-((t[_.key]||0)+(i[_.key]||0));e.piece_box_add(_,u)})}},{key:"piece_box_clear",value:function(){this.piece_box={}}},{key:"king_formation_auto_set",value:function(){var e=!1;return e||(e=this.king_formation_set("bottom_left")),e||(e=this.king_formation_set("bottom_right")),e}},{key:"king_formation_auto_unset",value:function(){var e=!1;return e||(e=this.king_formation_unset("bottom_left")),e||(e=this.king_formation_unset("bottom_right")),e}},{key:"king_formation_set",value:function(e){var t=this,i=this.king_formation_soldiers(e);if(!i.some(function(e){return t.board.lookup(e.place)}))return i.forEach(function(e){return t.piece_search_and_place_on(e)}),!0}},{key:"king_formation_unset",value:function(e){var t=this,i=this.king_formation_soldiers(e);if(!i.some(function(e){return!t.board.lookup(e.place)}))return i.forEach(function(e){var i=t.board.lookup(e.place);if(i){var n=i.piece;t.board.delete_at(i.place),"K"===n.key?t.piece_box_add(n):t.hold_pieces_add(m.default.fetch("white"),n)}}),!0}},{key:"piece_search_and_place_on",value:function(e){if(!this.board.lookup(e.place)){if("K"===e.piece.key)this.piece_search_and_decrement(e.piece);else if(!this.piece_search_and_decrement(e.piece))return;this.board.place_on(e)}}},{key:"piece_search_and_decrement",value:function(e){var t=!1;return t||(t=this.piece_search_on_hold_pieces_and_decrement("white",e)),t||this.piece_box_count(e)>=1&&(this.piece_box_add(e,-1),t=!0),t}},{key:"piece_search_on_hold_pieces_and_decrement",value:function(e,t){var i=m.default.fetch(e);if(this.hold_pieces_count(i,t)>=1)return this.hold_pieces_add(i,t,-1),!0}},{key:"king_formation_soldiers",value:function(e){var t=null,i=null,n=null,o=null;return"bottom_left"===e&&(t=0,i=1,n=u.default.dimension-1,o=-1),"bottom_right"===e&&(t=u.default.dimension-1,i=-1,n=u.default.dimension-1,o=-1),[{piece:"K",promoted:!1,location:"black",place:[t,n]},{piece:"P",promoted:!0,location:"white",place:[t,n+o+o]},{piece:"P",promoted:!0,location:"white",place:[t+i,n+o+o]},{piece:"P",promoted:!0,location:"white",place:[t+i+i,n+o+o]},{piece:"P",promoted:!0,location:"white",place:[t+i+i,n+o]},{piece:"P",promoted:!0,location:"white",place:[t+i+i,n]}].map(function(e){return new d.default({piece:c.default.fetch(e.piece),promoted:e.promoted,location:m.default.fetch(e.location),place:l.default.fetch(e.place)})})}},{key:"slide_xy",value:function(e,t){this.board=this.board.slide_xy(e,t)}},{key:"shuffle_apply",value:function(e){var t=this.board.shuffle_apply(e);if(t)return this.board=t,!0}},{key:"dimension",get:function(){return u.default.dimension}},{key:"turn_offset",get:function(){var e=Number(this.current_turn);return e<0&&(e+=this.turn_offset_max+1),this.turn_clamp(e)}},{key:"previous_location",get:function(){return this.data_source.location_by_offset(this.turn_offset-1)}},{key:"current_location",get:function(){return this.data_source.location_by_offset(this.turn_offset)}},{key:"current_comments",get:function(){if(this.data_source.comments_pack)return this.data_source.comments_pack[this.turn_offset]}},{key:"turn_offset_min",get:function(){return this.data_source.turn_offset_min}},{key:"turn_offset_max",get:function(){return this.data_source.turn_offset_max}},{key:"display_turn",get:function(){return this.turn_base+this.turn_offset}},{key:"turn_base",get:function(){return this.data_source.turn_base}},{key:"to_simple_sfen",get:function(){return this.sfen_serializer.to_s}},{key:"to_sfen_without_turn",get:function(){return this.sfen_serializer.to_s_without_turn}},{key:"to_position_sfen",get:function(){return"position sfen "+this.to_simple_sfen}},{key:"sfen_serializer",get:function(){return new p.default(this)}},{key:"hold_piece_all_counts_hash",get:function(){var e=this,t={};return m.default.values.forEach(function(i){s.default.forIn(e.hold_pieces[i.key],function(e,i){t[i]=(t[i]||0)+e})}),t}}]),e}();t.default=y},"N+at":function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.comments_pack?i("div",{staticClass:"comment_area"},[e.current_comments?i("div",[i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("article",{staticClass:"message is-info has-text-left"},[i("div",{staticClass:"message-body"},[i("div",{staticClass:"content"},[e._l(e.current_comments,function(t){return[e._.isEmpty(t)?[i("br")]:[i("div",{domProps:{innerHTML:e._s(e.auto_link(t))}})]]})],2)])])])])]):e._e()]):e._e()},staticRenderFns:[]};t.a=n},"N1+3":function(e,t,i){e.exports=i.p+"static/media/piece_sound.5cc2312.wav"},P4Jg:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(i("Zx67")),r=d(i("Zrlr")),a=d(i("wxAW")),s=d(i("zwoO")),_=d(i("yEsh")),u=d(i("Pf15")),l=d(i("o44n")),c=d(i("hWu2"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"css_class_list",get:function(){return["piece_name","piece_"+this.key]}},{key:"promotable_p",get:function(){return!!this.promoted_name}},{key:"piece_vector",get:function(){return c.default.fetch(this.key)}}],[{key:"lookup",value:function(e){return"string"==typeof e&&(e=e.toUpperCase()),(0,_.default)(t.__proto__||(0,o.default)(t),"lookup",this).call(this,e)}},{key:"kif_lookup",value:function(e){return this.values.find(function(t){return[t.name,t.alias_name].includes(e)})}},{key:"kif_promoted_lookup",value:function(e){return this.values.find(function(t){return[t.promoted_name,t.promoted_alias_name].includes(e)})}},{key:"define",get:function(){return[{key:"K",name:"玉",alias_name:"王",promoted_name:null,promoted_alias_name:null},{key:"R",name:"飛",alias_name:null,promoted_name:"龍",promoted_alias_name:"竜"},{key:"B",name:"角",alias_name:null,promoted_name:"馬",promoted_alias_name:null},{key:"G",name:"金",alias_name:null,promoted_name:null,promoted_alias_name:null},{key:"S",name:"銀",alias_name:null,promoted_name:"全",promoted_alias_name:null},{key:"N",name:"桂",alias_name:null,promoted_name:"圭",promoted_alias_name:null},{key:"L",name:"香",alias_name:null,promoted_name:"杏",promoted_alias_name:null},{key:"P",name:"歩",alias_name:null,promoted_name:"と",promoted_alias_name:null}]}}]),t}(l.default);t.default=f,e.argv[1]}).call(t,i("W2nU"),"/index.js")},SRmv:function(e,t){},Ustg:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"a"},{key:"b"},{key:"c"},{key:"d"},{key:"e"},{key:"f"},{key:"g"},{key:"h"},{key:"i"},{key:"j"},{key:"k"},{key:"l"},{key:"m"},{key:"n"},{key:"o"},{key:"p"},{key:"q"},{key:"r"},{key:"s"},{key:"t"},{key:"u"},{key:"v"},{key:"w"},{key:"x"},{key:"y"},{key:"z"}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},Vex2:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"a",name:"デフォルト"},{key:"b",name:"将棋図案駒(新)"},{key:"c",name:"将棋図案駒(旧)"}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},WC9Z:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.piece_stand_show_flag?i("div",{staticClass:"piece_stand_outer",class:e.piece_stand_outer_class},[i("div",{staticClass:"location_mark_wrap"},[i("div",{staticClass:"location_mark",domProps:{innerHTML:e._s(e.location_name)}}),"simple"===e.$parent.theme?[e.$parent.current_vlayout?e._e():[i("div",{staticClass:"piece_count piece_count1"},[e._v("99")])]]:e._e(),e.$parent.current_vlayout&&e.player_name?[i("div",{staticClass:"player_name"},[e._v(e._s(e.player_name))])]:e._e()],2),!e.$parent.current_vlayout&&e.player_name?[i("div",{staticClass:"player_name"},[e._v(e._s(e.player_name))])]:e._e(),i("ul",{staticClass:"piece_stand",class:e.piece_stand_class,on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.piece_stand_click(e.location,t)},contextmenu:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.hold_cancel(t)}}},e._l(e.hold_pieces,function(t){var n=t[0],o=t[1];return i("li",{on:{click:function(t){return t.stopPropagation(),e.$parent.piece_stand_piece_click(e.location,n,!1,t)},mouseover:function(t){return e.$parent.piece_stand_mouseover_handle(e.location,n,t)},mouseleave:e.$parent.mouseleave_handle}},[i("div",{staticClass:"piece_back",class:e.piece_back_class(n)},[i("div",{staticClass:"piece_fore",class:e.piece_fore_class(n)},[e._v(e._s(n.name))])]),o>=1?i("div",{staticClass:"piece_count",class:"piece_count"+o},[e._v(e._s(o))]):e._e()])}),0)],2):e._e()},staticRenderFns:[]};t.a=n},XGRl:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i("Zx67")),o=l(i("Zrlr")),r=l(i("wxAW")),a=l(i("zwoO")),s=l(i("Pf15")),_=l(i("o44n")),u=l(i("kHiN"));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,null,[{key:"define",get:function(){return[{key:"☖の持駒を駒箱へ",func:function(e){e.mediator.hold_pieces_to_piece_box(u.default.fetch("white"))}},{key:"駒箱から☖の持駒へ",func:function(e){e.mediator.piece_box_to_hold_pieces(u.default.fetch("white"))}},{key:"駒箱を正規化",func:function(e){e.mediator.piece_box_piece_couns_adjust()}},{key:"駒箱に駒を一式生成",func:function(e){e.mediator.piece_box_reset_by_preset("全部駒箱")}},{key:"駒箱の駒をクリア",func:function(e){e.mediator.piece_box_clear()}},{key:"指将棋用玉配置",func:function(e){e.mediator.king_formation_auto_set()}},{key:"指将棋用玉回収",func:function(e){e.mediator.king_formation_auto_unset()}},{key:"視点切り替え",func:function(e){e.$store.state.current_flip=!e.$store.state.current_flip}},{key:"盤面シャッフル",func:function(e){e.shuffle_dialog_open()}},{key:"上ローテイト",func:function(e){e.mediator.slide_xy(0,-1)}},{key:"下ローテイト",func:function(e){e.mediator.slide_xy(0,1)}},{key:"左ローテイト",func:function(e){e.mediator.slide_xy(-1,0)}},{key:"右ローテイト",func:function(e){e.mediator.slide_xy(1,0)}}]}}]),t}(_.default);t.default=c},XJjB:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(i("Zrlr")),r=d(i("wxAW")),a=d(i("M4fF")),s=d(i("P4Jg")),_=d(i("KqNh")),u=d(i("M4xR")),l=d(i("kHiN")),c=d(i("iy8a"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t){(0,o.default)(this,e),this.mediator=t}return(0,r.default)(e,[{key:"to_s",get:function(){var e=this.__base_parts;return e.push(this.mediator.display_turn+1),e.join(" ")}},{key:"to_s_without_turn",get:function(){return this.__base_parts.join(" ")}},{key:"to_board_sfen",get:function(){var e=this,t=[];return a.default.times(c.default.dimension,function(i){var n="",o=0;a.default.times(c.default.dimension,function(t){var r=_.default.fetch([t,i]),s=e.mediator.board.lookup(r);if(a.default.isNil(s))o++;else{o>=1&&(n+=o,o=0),s.promoted&&(n+="+");var u=s.piece.key;"white"===s.location.key&&(u=u.toLowerCase()),n+=u}}),o>=1&&(n+=o),t.push(n)}),t.join("/")}},{key:"to_hold_pieces",get:function(){var e=this,t=l.default.values.map(function(t){var i=e.mediator.hold_pieces[t.key],n=s.default.values.map(function(e){var n=i[e.key]||0,o="";if(0===n)return null;n>=2&&(o+=n);var r=e.key;return o+=r="white"===t.key?r.toLowerCase():r.toUpperCase()});return a.default.compact(n).join("")}).join("");return a.default.isEmpty(t)&&(t="-"),t}},{key:"__base_parts",get:function(){var e=[];return e.push(this.to_board_sfen),e.push(this.mediator.current_location.key[0]),e.push(this.to_hold_pieces),e}}]),e}();if(t.default=f,e.argv[1]===n){var p=new u.default;p.kifu_body="position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d",p.current_turn=1,p.run();new f(p)}}).call(t,i("W2nU"),"/index.js")},XXBo:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i("woOf")),o=a(i("M4fF")),r=i("NYxO");function a(e){return e&&e.__esModule?e:{default:e}}t.default={props:{slider_show:{type:Boolean,default:!1},controller_show:{type:Boolean,default:!1},key_event_capture:{type:Boolean,default:!1},shift_key_mag:{type:Number,default:10},system_key_mag:{type:Number,default:50},flip:{type:Boolean,default:!1},vlayout:{type:Boolean,default:!1},hidden_if_piece_stand_blank:{type:Boolean,default:!1},setting_button_show:{type:Boolean,default:!0},summary_show:{type:Boolean,default:!0},operation_disable:{type:Boolean,default:!1}},data:function(){return{}},mounted:function(){window.addEventListener("keydown",this.keydown_hook,!1)},beforeDestroy:function(){window.removeEventListener("keydown",this.keydown_hook)},created:function(){this.$store.state.current_flip=this.flip,this.$store.state.current_vlayout=this.vlayout},watch:{current_flip:function(e){this.$emit("update:flip",e)},flip:function(e){this.$store.state.current_flip=e},current_vlayout:function(e){this.$emit("update:vlayout",e)},vlayout:function(e){this.$store.state.current_vlayout=e}},methods:{keydown_hook:function(e){if(this.current_debug_mode,!this.operation_disable&&!this.shortcut_hook(e)&&this.key_event_capture&&("view_mode"===this.current_run_mode||"play_mode"===this.current_run_mode)){var t=document.activeElement,i=[this.$refs.first,this.$refs.previous,this.$refs.next,this.$refs.last];if(void 0!==t&&"BODY"!==t.tagName&&!o.default.includes(i,t))return;"Backspace"!==e.code&&"ArrowUp"!==e.code&&"ArrowLeft"!==e.code&&"k"!==e.key&&"p"!==e.key&&"b"!==e.key||(this.relative_move(-1,e),e.preventDefault()),"Space"!==e.code&&"Enter"!==e.code&&"ArrowDown"!==e.code&&"ArrowRight"!==e.code&&"j"!==e.key&&"n"!==e.key&&"f"!==e.key||(this.relative_move(1,e),e.preventDefault())}},navi_relative_move:function(e,t){this.relative_move(e*this.flip_sign,t)},relative_move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.shiftKey&&this.shift_key_mag&&(e*=this.shift_key_mag),(t.ctrlKey||t.altKey||t.metaKey)&&this.system_key_mag&&(e*=this.system_key_mag)),this.current_turn_add(e),this.focus_to("turn_slider")||(e>0?this.focus_to("next"):this.focus_to("previous"))},move_to_first:function(){this.current_turn_set(this.turn_offset_min),this.focus_to("turn_slider")||this.focus_to("first")},move_to_last:function(){this.current_turn_set(this.turn_offset_max),this.focus_to("turn_slider")||this.focus_to("last")},current_turn_add:function(e){this.current_turn_set(this.mediator.turn_offset+e)},current_turn_set:function(e){var t=this.mediator.turn_clamp(e);this.turn_offset!==t&&("view_mode"===this.current_run_mode&&this.view_mode_mediator_update(t),"play_mode"===this.current_run_mode&&this.play_mode_mediator_seek_to(t),this.sound_call("piece_sound"),this.$emit("update:start_turn",this.turn_offset))},focus_to:function(e){var t=this.$refs[e];return!!t&&(t.focus(),!0)},board_flip_run:function(){this.$store.commit("flip_toggle"),this.sound_call("flip_sound"),this.focus_to("turn_slider")}},computed:(0,n.default)({},{flip_sign:function(){return this.current_flip?-1:1}},(0,r.mapState)(["current_flip","current_vlayout"]))}},a0AN:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"none"},{key:"xx-small"},{key:"x-small"},{key:"small"},{key:"default"},{key:"medium"},{key:"large"},{key:"x-large"},{key:"xx-large"},{key:"xxx-large"}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},a83v:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("rQIc"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("WC9Z"),s=i("VU/8")(o.a,a.a,!1,null,null,null);t.default=s.exports},bmB0:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(i("Zrlr")),r=a(i("wxAW"));a(i("mtWM"));function a(e){return e&&e.__esModule?e:{default:e}}"undefined"!=typeof window&&(window.AudioContext=window.AudioContext||window.webkitAudioContext,n=new AudioContext);var s=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.url=t,this.options=i,this.buffer=null,this.__resource_load()}return(0,r.default)(e,[{key:"play",value:function(){if(this.is_loaded){var e=n.createBufferSource();if(e.buffer=this.buffer,null===this.volume)e.connect(n.destination);else{var t=n.createGain();e.connect(t),t.connect(n.destination),t.gain.value=this.volume}e.start(0)}}},{key:"__resource_load",value:function(){var e=this;var t=new XMLHttpRequest;t.responseType="arraybuffer",t.onreadystatechange=function(){4===t.readyState&&(0!==t.status&&200!==t.status||n.decodeAudioData(t.response,function(t){e.buffer=t}))},t.open("GET",this.url,!0),t.send("")}},{key:"is_loaded",get:function(){return null!==this.buffer}},{key:"volume",get:function(){var e=1;return void 0!==this.options.volume&&(e=this.options.volume),e}}]),e}();t.default=s},dGAP:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("M4xR")),o=r(i("652U"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{preset_key:{type:String,default:null}},data:function(){return{current_preset_key:this.preset_key}},created:function(){},mounted:function(){},watch:{preset_key:function(e){this.current_preset_key=e},current_preset_key:function(e){this.mediator_setup_by_preset(e)}},methods:{mediator_setup_by_preset:function(e){e=o.default.fetch(e),this.mediator=new n.default,e.sfen&&(this.mediator.data_source=this.data_source_by(e.sfen)),this.mediator.run(),this.mediator.piece_box_piece_couns_adjust(),this.init_location_key=this.mediator.current_location.key}},computed:{preset_info_values:function(){return o.default.values},init_preset_sfen:function(){if(this.preset_key)return o.default.fetch(this.preset_key).sfen}}}},gJNb:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{},methods:{},computed:{piece_box_class:function(){var e=[];return this.$parent.holding_p&&e.push("hoverable_p"),e}}}},hWu2:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"K",basic_once_vectors:"pattern_king",basic_repeat_vectors:null,promoted_once_vectors:null,promoted_repeat_vectors:null,force_promote_length:null},{key:"R",basic_once_vectors:null,basic_repeat_vectors:"pattern_plus",promoted_once_vectors:"pattern_x",promoted_repeat_vectors:"pattern_plus",force_promote_length:null},{key:"B",basic_once_vectors:null,basic_repeat_vectors:"pattern_x",promoted_once_vectors:"pattern_plus",promoted_repeat_vectors:"pattern_x",force_promote_length:null},{key:"G",basic_once_vectors:"pattern_gold",basic_repeat_vectors:null,promoted_once_vectors:null,promoted_repeat_vectors:null,force_promote_length:null},{key:"S",basic_once_vectors:"pattern_silver",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:null},{key:"N",basic_once_vectors:"pattern_knight",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:1},{key:"L",basic_once_vectors:null,basic_repeat_vectors:"pattern_pawn",promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:0},{key:"P",basic_once_vectors:"pattern_pawn",basic_repeat_vectors:null,promoted_once_vectors:"pattern_gold",promoted_repeat_vectors:null,force_promote_length:0}]}},{key:"pattern_plus",get:function(){return[null,[0,-1],null,[-1,0],[1,0],null,[0,1],null]}},{key:"pattern_x",get:function(){return[[-1,-1],null,[1,-1],null,null,null,[-1,1],null,[1,1]]}},{key:"pattern_silver",get:function(){return[[-1,-1],[0,-1],[1,-1],null,null,null,[-1,1],null,[1,1]]}},{key:"pattern_gold",get:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],null,[0,1],null]}},{key:"pattern_king",get:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],null,[1,0],[-1,1],[0,1],[1,1]]}},{key:"pattern_knight",get:function(){return[[-1,-2],[1,-2]]}},{key:"pattern_pawn",get:function(){return[[0,-1]]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},i2Xt:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return"edit_mode"===e.$parent.current_run_mode?i("ul",{staticClass:"piece_box",class:e.piece_box_class,on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.piece_box_other_click(t)},contextmenu:function(t){return t.preventDefault(),e.$parent.hold_cancel(t)}}},e._l(e.$parent.mediator.piece_box_realize(),function(t){var n=t[0],o=t[1];return i("li",{class:{holding_p:e.$parent.piece_box_have_p(n)},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.$parent.piece_box_piece_click(n,t)},mouseover:function(t){return e.$parent.piece_box_mouseover_handle(n,t)},mouseleave:e.$parent.mouseleave_handle}},[i("div",{staticClass:"piece_back",class:e.$parent.piece_box_piece_back_class(n)},[i("div",{staticClass:"piece_fore",class:e.$parent.piece_box_piece_inner_class(n),domProps:{textContent:e._s(n.name)}})]),o>=1?i("div",{staticClass:"piece_count",class:"piece_count"+o},[e._v(e._s(o))]):e._e()])}),0):e._e()},staticRenderFns:[]};t.a=n},iy8a:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=d(i("gRE1")),r=d(i("woOf")),a=d(i("Zrlr")),s=d(i("wxAW")),_=d(i("M4fF")),u=d(i("7+uW")),l=d(i("HLQd")),c=d(i("KqNh"));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(){(0,a.default)(this,e),this._surface={}}return(0,s.default)(e,null,[{key:"dimension",get:function(){return 9}},{key:"danger_zone_size",get:function(){return 3}}]),(0,s.default)(e,[{key:"place_on",value:function(e){this.delete_at(e.place),u.default.set(this._surface,e.place.key,e)}},{key:"lookup",value:function(e){return this._surface[e.key]}},{key:"delete_at",value:function(e){u.default.delete(this._surface,e.key)}},{key:"clear",value:function(){this._surface={}}},{key:"slide_xy",value:function(t,i){var n=new e;return _.default.forEach(this._surface,function(e,o){var a=new l.default((0,r.default)({},e.attributes,{location:e.location,place:e.place.rotate_add(t,i)}));n.place_on(a)}),n}},{key:"shuffle_apply",value:function(t){if(!(t*t<this.soldiers.length)){var i=this.all_places(t),n=_.default.shuffle(i),o=new e,a=0;return _.default.forEach(this._surface,function(e,t){var i=new l.default((0,r.default)({},e.attributes,{location:e.location,place:n[a]}));o.place_on(i),a+=1}),o}}},{key:"all_places",value:function(t){for(var i=e.dimension-t,n=[],o=0;o<t;o++)for(var r=0;r<t;r++){var a=c.default.fetch([i+r,0+o]);n.push(a)}return n}},{key:"soldiers",get:function(){return(0,o.default)(this._surface)}},{key:"piece_counts_hash",get:function(){var e={};return _.default.forEach(this.soldiers,function(t){e[t.piece.key]=(e[t.piece.key]||0)+1}),e}},{key:"flip_all",get:function(){var t=new e;return _.default.forEach(this._surface,function(e,i){var n=new l.default((0,r.default)({},e.attributes,{location:e.location.flip,place:e.place.flip_all}));t.place_on(n)}),t}},{key:"flip_h",get:function(){var t=new e;return _.default.forEach(this._surface,function(e,i){var n=new l.default((0,r.default)({},e.attributes,{location:e.location,place:e.place.flip_h}));t.place_on(n)}),t}}]),e}();t.default=f,e.argv[1]}).call(t,i("W2nU"),"/index.js")},kGIg:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=_(i("BO1k")),o=_(i("Gu7T")),r=_(i("kHiN")),a=_(i("KqNh")),s=_(i("xGbI"));function _(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{mouseover_info:null,shuffle_mode_p:!1}},methods:{shortcut_hook:function(e){var t=!0,i=!1,s=void 0;try{for(var _,u=(0,n.default)(r.default.values);!(t=(_=u.next()).done);t=!0){var l=_.value;if(e.key.toLowerCase()===l.char_key&&(this.soldier_hold_unless_holding_p(e),this.piece_stand_click_shared(l,e)))return e.preventDefault(),!0}}catch(e){i=!0,s=e}finally{try{!t&&u.return&&u.return()}finally{if(i)throw s}}if("edit_mode"===this.current_run_mode&&("Backspace"===e.code||"Delete"===e.code||"t"===e.key.toLowerCase())&&(this.soldier_hold_unless_holding_p(e),this.piece_box_other_click(e)))return e.preventDefault(),!0;if("Escape"===e.code&&this.hold_cancel(e))return e.preventDefault(),!0;if("q"===e.key){if(this.holding_p&&this.hold_cancel(e))return e.preventDefault(),!0;if(this.mouseover_info&&"board"===this.mouseover_info.type){var c=a.default.fetch(this.mouseover_info.xy),d=this.mediator.board.lookup(c);if(d)return this.piece_stand_piece_click(d.location,d.piece,d.promoted,null),e.preventDefault(),!0}}if(("v"===e.key||"r"===e.key||"Space"===e.code)&&this.mouseover_info&&"board"===this.mouseover_info.type)return this.board_cell_right_click(this.mouseover_info.xy,e),e.preventDefault(),!0;if("edit_mode"===this.current_run_mode&&"?"===e.key)return this.shortcut_modal_toggle_handle(),e.preventDefault(),!0;if("edit_mode"===this.current_run_mode&&this.meta_p(e)){var f,p=this.arrow_vector_table[e.key];if(p)return(f=this.mediator).slide_xy.apply(f,(0,o.default)(p)),e.preventDefault(),!0}return!("edit_mode"!==this.current_run_mode||("!"===e.key&&(this.shuffle_mode_p=!this.shuffle_mode_p,this.shuffle_mode_p?this.$buefy.toast.open({message:"盤面シャッフルモード: ON (TAP: 1-9)",position:"is-bottom",queue:!1,duration:2e3,type:"is-primary"}):this.$buefy.toast.open({message:"盤面シャッフルモード: OFF",position:"is-bottom",queue:!1,duration:500})),!this.shuffle_mode_p||"1"!==e.key&&"2"!==e.key&&"3"!==e.key&&"4"!==e.key&&"5"!==e.key&&"6"!==e.key&&"7"!==e.key&&"8"!==e.key&&"9"!==e.key))&&(this.shuffle_run(e.key),e.preventDefault(),!0)},board_mouseover_handle:function(e,t){this.mouseover_info={type:"board",xy:e}},piece_stand_mouseover_handle:function(e,t,i){this.mouseover_info={type:"piece_stand",location:e,piece:t}},piece_box_mouseover_handle:function(e,t){this.mouseover_info={type:"piece_box",piece:e}},mouseleave_handle:function(){this.mouseover_info=null},soldier_hold_unless_holding_p:function(e){this.mouseover_info&&(this.holding_p||("board"===this.mouseover_info.type&&this.board_cell_left_click(this.mouseover_info.xy,e),"piece_stand"===this.mouseover_info.type&&this.piece_stand_piece_click(this.mouseover_info.location,this.mouseover_info.piece,!1,e),"piece_box"===this.mouseover_info.type&&this.piece_box_piece_click(this.mouseover_info.piece,e)))},shortcut_modal_toggle_handle:function(){this.shortcut_modal_active_p()?this.shortcut_modal_close_handle():this.shortcut_modal_show_handle()},shortcut_modal_show_handle:function(){var e=this;this.shortcut_modal_close_handle(),this.$shortcut_modal&&alert("this.$shortcut_modal"),this.$shortcut_modal=this.$buefy.modal.open({parent:this,hasModalCard:!0,props:{},animation:"",onCancel:function(){e.shortcut_modal_close_handle()},canCancel:["escape","outside"],component:s.default})},shortcut_modal_close_handle:function(){this.$shortcut_modal&&(this.$shortcut_modal.close(),this.$shortcut_modal=null)},shortcut_modal_active_p:function(){return!!this.$shortcut_modal}},computed:{arrow_vector_table:function(){return{ArrowRight:[1,0],ArrowLeft:[-1,0],ArrowUp:[0,-1],ArrowDown:[0,1]}}}}},kHiN:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,[{key:"advance",value:function(e){return t.cycle_lookup(this.code+e)}},{key:"flip",get:function(){return t.cycle_lookup(this.code+1)}}],[{key:"cycle_lookup",value:function(e){return"number"!=typeof e&&alert("ArgumentError: "+e),t.lookup(Math.abs(e)%t.values.length)}},{key:"define",get:function(){return[{key:"black",name:"☗",char_key:"b",value_sign:1},{key:"white",name:"☖",char_key:"w",value_sign:-1}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]===n&&l.values.map(function(e){})}).call(t,i("W2nU"),"/index.js")},lujB:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("6hdJ"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("N+at"),s=i("VU/8")(o.a,a.a,!1,null,null,null);t.default=s.exports},oS6v:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("1I1s"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("sSDw");var s=function(e){i("SRmv")},_=i("VU/8")(o.a,a.a,!1,s,null,null);t.default=_.exports},pelb:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=m(i("Zx67")),r=m(i("Zrlr")),a=m(i("wxAW")),s=m(i("zwoO")),_=m(i("Pf15")),u=m(i("OTSL")),l=m(i("08Lv")),c=m(i("+BTF")),d=m(i("P4Jg")),f=m(i("KqNh")),p=m(i("kHiN")),h=m(i("usXP"));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,[{key:"parse",value:function(){var e=this;this.move_infos=[],this.comments_pack={};var t=null;this.kifu_body.split(/\n/).forEach(function(i){var n=u.default.exec(i,e.__kif_format_move_regexp);if(n){var o={};o.location=e.location_by_offset(Number(n.number)-1),n.origin_place&&(o.origin_place=f.default.fetch(n.origin_place)),(0,l.default)(n.to||n.same),n.to?(o.place=f.default.fetch(n.to),t=o.place):((0,l.default)(n.same),(0,l.default)(t),o.place=t),"成"===n.motion&&(o.promoted_trigger=!0),"打"===n.motion&&(o.drop_piece=d.default.kif_lookup(n.piece)),e.move_infos.push(o)}else{var r=u.default.exec(i,(0,u.default)("^\\*(?<comment>.*)"));if(r){var a=e.move_infos.length;e.comments_pack[a]=e.comments_pack[a]||[],e.comments_pack[a].push(r.comment)}}})}},{key:"board",get:function(){var e=new h.default;return e.kifu_body="position startpos",e.parse(),e.board}},{key:"location_base",get:function(){var e=null;return e="平手"===(this.header["手合割"]||"平手")?"black":"white",p.default.fetch(e)}},{key:"move_infos",set:function(e){this._move_infos=e},get:function(){return this._move_infos||[]}},{key:"comments_pack",set:function(e){this._comments_pack=e},get:function(){return this._comments_pack||[]}},{key:"__kif_format_move_regexp",get:function(){return(0,u.default)("\n        ^\\s*(?<number>\\d+)\\s+\n        (?<to>[１-９1-9一二三四五六七八九]{2})?\n        (?<same>同)?\\s*\n        (?<piece>成[銀桂香]|[王玉金銀全桂圭香杏角馬飛龍竜歩と])\n        (?<suffix>[左右直]?[寄引上]?)\n        (?<motion>不?成|打|合|生)?\n        (\\((?<origin_place>\\d{2})\\))? # KIFフォーマットの移動元用\n      ","xm")}}]),t}(c.default);if(t.default=v,e.argv[1]===n){var y=new v;y.kifu_body="\n   1 ２六歩(27)   ( 0:16/00:00:16)\n   2 ３四歩(33)   ( 0:22/00:00:22)\n   3 ７六歩(77)   ( 0:06/00:00:22)\n   4 ８四歩(83)   ( 0:13/00:00:35)\n   5 ２五歩(26)   ( 0:09/00:00:31)\n   6 ８五歩(84)   ( 0:16/00:00:51)\n   7 ７八金(69)   ( 0:04/00:00:35)\n   8 ３二金(41)   ( 0:09/00:01:00)\n   9 ２四歩(25)   ( 0:04/00:00:39)\n  10 同 歩(23)    ( 0:10/00:01:10)\n",y.parse()}}).call(t,i("W2nU"),"/index.js")},pioc:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=u(i("Zx67")),r=u(i("Zrlr")),a=u(i("wxAW")),s=u(i("zwoO")),_=u(i("Pf15"));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,a.default)(t,null,[{key:"define",get:function(){return[{key:"view_mode",name:"再生"},{key:"play_mode",name:"操作"},{key:"edit_mode",name:"編集"}]}}]),t}(u(i("o44n")).default);t.default=l,e.argv[1]}).call(t,i("W2nU"),"/index.js")},rQIc:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("kHiN")),o=r(i("M4fF"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{location_key:{required:!0},hold_pieces:{required:!0}},methods:{hold_piece_holding_p:function(e){return this.$parent.have_piece_location===this.location&&this.$parent.have_piece===e},piece_back_class:function(e){var t=[];return this.hold_piece_holding_p(e)?t.push("holding_p"):("edit_mode"===this.$parent.current_run_mode||!this.$parent.cpu_location_p&&this.$parent.mediator.current_location===this.location)&&(this.holding_p||t.push("selectable_p")),t},piece_fore_class:function(e){var t=[];return(t=o.default.concat(t,e.css_class_list)).push("location_"+this.location.key),t.push("promoted_false"),t}},computed:{holding_p:function(){return this.$parent.holding_p},location:function(){return n.default.fetch(this.location_key)},piece_stand_outer_class:function(){var e=[];return e.push("location_"+this.location.key),e.push(this.$parent.env),this.$parent.mediator.current_location===this.location&&e.push("turn_active"),e},location_name:function(){return this.location.name},piece_stand_class:function(){var e=[];return this.holding_p&&e.push("hoverable_p"),e},piece_stand_show_flag:function(){return"view_mode"!==this.$parent.current_run_mode||!this.$parent.hidden_if_piece_stand_blank||!o.default.isEmpty(this.hold_pieces)},player_name:function(){if(this.player_info)return this.player_info[this.location.key].name},player_info:function(){return this.$parent.player_info}}}},s43Y:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(i("XGRl")),o=r(i("iy8a"));function r(e){return e&&e.__esModule?e:{default:e}}t.default={props:{},data:function(){return{any_func_key:null}},methods:{any_func_click_handle:function(e){e.func(this)},shuffle_dialog_open:function(){var e=this;this.shuffle_mode_p=!1,this.$buefy.dialog.prompt({message:"寸法の一辺のサイズを指定してください",confirmText:"実行",cancelText:"キャンセル",inputAttrs:{type:"number",value:4,min:1,max:o.default.dimension},trapFocus:!0,onConfirm:function(t){return e.shuffle_run(t)}})},shuffle_run:function(e){e=parseInt(e),this.mediator.shuffle_apply(e)||this.$buefy.toast.open({message:e+" x "+e+" が盤上の駒の数より少ないため何もしませんでした",position:"is-bottom",queue:!1,duration:2e3,type:"is-warning"})}},computed:{AnyFuncInfo:function(){return n.default}}}},sSDw:function(e,t,i){"use strict";var n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"shogi-player",class:e.class_names},[e.operation_disable?i("div",{staticClass:"top_overlay"}):e._e(),e.error_message?i("div",[i("ErrorNotify",[i("p",{attrs:{slot:"header"},slot:"header"},[e._v("ERROR")]),i("p",[e._v(e._s(e.error_message))])])],1):e._e(),e.mediator?e._e():[i("i",{staticClass:"fas fa-spinner fa-pulse"})],"edit_mode"===e.current_run_mode?i("div",{staticClass:"edit_mode_controller"},[i("div",{staticClass:"edit_mode_controller_wrap"},[i("b-dropdown",{model:{value:e.current_preset_key,callback:function(t){e.current_preset_key=t},expression:"current_preset_key"}},[i("div",{staticClass:"button",attrs:{slot:"trigger"},slot:"trigger"},[i("b-tooltip",{attrs:{label:"初期配置"}},[i("b-icon",{attrs:{icon:"apps",size:"is-small"}})],1)],1),e._l(e.preset_info_values,function(t){return i("b-dropdown-item",{key:t.key,attrs:{value:t.key},on:{click:function(i){return e.mediator_setup_by_preset(t)}}},[e._v(e._s(t.name))])})],2),i("b-dropdown",{model:{value:e.any_func_key,callback:function(t){e.any_func_key=t},expression:"any_func_key"}},[i("div",{staticClass:"button",attrs:{slot:"trigger"},slot:"trigger"},[i("b-tooltip",{attrs:{label:"操作"}},[i("b-icon",{attrs:{icon:"menu",size:"is-small"}})],1)],1),e._l(e.AnyFuncInfo.values,function(t){return i("b-dropdown-item",{key:t.key,attrs:{value:t.key},on:{click:function(i){return e.any_func_click_handle(t)}}},[e._v(e._s(t.name))])})],2),e._v(" "),i("button",{staticClass:"button yumincho",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.fn_flip_all(t)}}},[i("b-tooltip",{attrs:{label:"上下反転"}},[i("b-icon",{attrs:{icon:"pan-vertical",size:"is-small"}})],1)],1),e._v(" "),i("button",{staticClass:"button yumincho",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.fn_flip_h(t)}}},[i("b-tooltip",{attrs:{label:"左右反転"}},[i("b-icon",{attrs:{icon:"pan-horizontal",size:"is-small"}})],1)],1),e._v(" "),i("button",{staticClass:"button yumincho",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.init_location_toggle(t)}}},[i("b-tooltip",{attrs:{label:"手番"}},[e._v(e._s(e.init_location.name))])],1),e._v(" "),i("button",{staticClass:"button yumincho has-text-weight-bold",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.shortcut_modal_show_handle(t)}}},[i("b-tooltip",{attrs:{label:"ショートカット"}},[e._v("?")])],1)],1)]):e._e(),e.mediator?[i("div",{staticClass:"turn_edit_container"},[!e.summary_show||"view_mode"!==e.current_run_mode&&"play_mode"!==e.current_run_mode?e._e():i("div",{staticClass:"turn_number_area"},[e.turn_edit?e._e():[i("span",{staticClass:"turn_edit_text",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.turn_edit_run(t)}}},["view_mode"===e.current_run_mode?[e._v(e._s(e.mediator.current_turn_label(this.final_label)))]:e._e(),"play_mode"===e.current_run_mode?[0===e.turn_base?[e._v(e._s(e.turn_offset))]:e._e(),e.turn_base>=1?[e._v(e._s(e.turn_base)),e.turn_offset>=1?[e._v("+"+e._s(e.turn_offset))]:e._e()]:e._e(),e._v("手")]:e._e()],2)],e.turn_edit?[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.turn_edit_value,expression:"turn_edit_value",modifiers:{number:!0}}],ref:"turn_edit_input",staticClass:"turn_edit_input",attrs:{type:"number"},domProps:{value:e.turn_edit_value},on:{blur:[function(t){e.turn_edit=!1},function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.turn_edit_value=e._n(t.target.value))}}})]:e._e()],2),e.setting_button_show?i("span",{staticClass:"is-pulled-right modal_trigger_dots",on:{click:function(t){t.stopPropagation(),t.preventDefault(),e.setting_modal_p=!0}}},[i("b-icon",{attrs:{icon:"dots-vertical",size:"is-small"}})],1):e._e(),i("b-modal",{attrs:{active:e.setting_modal_p,"has-modal-card":"has-modal-card"},on:{"update:active":function(t){e.setting_modal_p=t}}},[i("SettingModal",{attrs:{run_mode:e.current_run_mode,kifu_source:e.kifu_source,play_mode_full_moves_sfen:e.play_mode_full_moves_sfen,edit_mode_snapshot_sfen2:e.edit_mode_snapshot_sfen2,sp_data:e.$data},on:{"update:run_mode":function(t){e.current_run_mode=t},"update:kifu_body":e.update_kifu_source}})],1)],1),i("div",{ref:"board_container_ref",staticClass:"board_container font_size_base"},[i("div",{staticClass:"flippable",class:[e.current_flip?"flip":"no_flip"]},[i("PieceStand",{staticClass:"flex_item",attrs:{location_key:"white",hold_pieces:e.mediator.realized_hold_pieces_of("white")}}),i("div",{staticClass:"flex_item board_wrap"},[e.overlay_navi?[i("div",{staticClass:"overlay_navi previous",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.navi_relative_move(-1,t)}}}),i("div",{staticClass:"overlay_navi next",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.navi_relative_move(1,t)}}}),i("div",{staticClass:"overlay_navi flip_trigger_cell",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.board_flip_run(t)}}})]:e._e(),i("div",{staticClass:"board_outer"},[i("table",{staticClass:"board_inner"},e._l(e.mediator.dimension,function(t){return i("tr",e._l(e.mediator.dimension,function(n){return i("td",{on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.board_cell_left_click([n-1,t-1],i)},contextmenu:function(i){return i.stopPropagation(),i.preventDefault(),e.board_cell_right_click([n-1,t-1],i)},mouseover:function(i){return e.board_mouseover_handle([n-1,t-1],i)},mouseleave:e.mouseleave_handle}},[i("div",{staticClass:"piece_back",class:e.board_piece_back_class([n-1,t-1]),style:e.board_piece_back_style([n-1,t-1])},[i("div",{staticClass:"piece_fore",class:e.mediator.board_piece_fore_class([n-1,t-1])},[e._v(e._s(e.mediator.cell_view([n-1,t-1])))])])])}),0)}),0)])],2),i("div",{staticClass:"flex_item"},[e.current_vlayout?e._e():[i("PieceBox"),"edit_mode"!==e.current_run_mode?i("div"):e._e()],i("PieceStand",{attrs:{location_key:"black",hold_pieces:e.mediator.realized_hold_pieces_of("black")}})],2)],1),e.current_vlayout?[i("PieceBox")]:e._e()],2),"view_mode"===e.current_run_mode||"play_mode"===e.current_run_mode?i("div",[e.controller_show?i("div",{staticClass:"controller_group buttons has-addons is-centered is-paddingless"},[i("button",{ref:"first",staticClass:"button first",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.move_to_first(t)}}},[i("b-icon",{attrs:{icon:"menu-left"}})],1),i("button",{ref:"previous",staticClass:"button previous",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.relative_move(-1,t)}}},[i("b-icon",{attrs:{icon:"chevron-left",size:"is-small"}})],1),i("button",{ref:"next",staticClass:"button next",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.relative_move(1,t)}}},[i("b-icon",{attrs:{icon:"chevron-right",size:"is-small"}})],1),i("button",{ref:"last",staticClass:"button last",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.move_to_last(t)}}},[i("b-icon",{attrs:{icon:"menu-right"}})],1),i("button",{staticClass:"button flip",on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.board_flip_run(t)}}},[i("b-icon",{attrs:{icon:"swap-vertical",size:"is-small"}})],1)]):e._e(),e.slider_show?i("div",[i("input",{ref:"turn_slider",staticClass:"turn_slider",attrs:{type:"range",min:e.turn_offset_min,max:e.turn_offset_max},domProps:{value:e.turn_offset},on:{input:function(t){return e.current_turn_set(t.target.value)}}})]):e._e()]):e._e(),e.sfen_show?i("div",{staticClass:"sfen_area is-size-7 has-text-grey"},[e._t("sfen_part",[e._v(e._s(e.mediator.to_simple_sfen))],{sfen:e.mediator.to_simple_sfen,mediator:e.mediator})],2):e._e(),i("CommentArea",{attrs:{comments_pack:e.mediator.data_source.comments_pack,current_comments:e.mediator.current_comments}})]:e._e(),e.current_debug_mode?i("div",{staticClass:"debug_table"},[i("table",{staticClass:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth"},[i("tbody",[i("tr",[i("th",[e._v("現在のモード(current_run_mode)")]),i("td",[e._v(e._s(e.current_run_mode))])]),i("tr",[i("th",[e._v("update_counter")]),i("td",[e._v(e._s(e.update_counter))])]),i("tr",[i("th",[e._v("移動元座標(place_from)")]),i("td",[e._v(e._s(e.place_from))])]),i("tr",[i("th",[e._v("駒台・駒箱から移動中の駒(have_piece)")]),i("td",[e._v(e._s(e.have_piece))])]),e.mediator?[i("tr",[i("th",[e._v("駒箱")]),i("td",[e._v(e._s(e.mediator.piece_box_realize()))])]),i("tr",[i("th",[e._v("持駒")]),i("td",[e._v(e._s(e.mediator.hold_pieces))])]),i("tr",[i("th",[e._v("次の手番")]),i("td",[e._v(e._s(e.mediator.current_location.key))])]),i("tr",[i("th",[e._v("現局面のSFEN")]),i("td",[e._v(e._s(e.mediator.to_simple_sfen))])]),i("tr",[i("th",[e._v("正規化手番(turn_offset)")]),i("td",[e._v(e._s(e.turn_offset))])])]:e._e(),i("tr",[i("th",[e._v("開始局面番号(start_turn)")]),i("td",[e._v(e._s(e.start_turn))])]),i("tr",[i("th",[e._v("初期配置(current_preset_key)")]),i("td",[e._v(e._s(e.current_preset_key))])]),i("tr",[i("th",[e._v("play_modeでの指し手(moves)")]),i("td",[e._v(e._s(e.moves))])]),i("tr",[i("th",[e._v("play_modeの開始局面(init_sfen)")]),i("td",[e._v(e._s(e.init_sfen))])]),i("tr",[i("th",[e._v("編集モード時の手番(init_location_key)")]),i("td",[e._v(e._s(e.init_location_key))])]),i("tr",[i("th",[e._v("編集モード時の手番を反映したSFEN(edit_mode_snapshot_sfen)")]),i("td",[e._v(e._s(e.edit_mode_snapshot_sfen))])]),i("tr",[i("th",[e._v("play_modeでのSFEN(play_mode_full_moves_sfen)")]),i("td",[e._v(e._s(e.play_mode_full_moves_sfen))])]),i("tr",[i("th",[e._v("key_event_capture")]),i("td",[e._v(e._s(e.key_event_capture))])]),i("tr",[i("th",[e._v("interval_id")]),i("td",[e._v(e._s(e.interval_id))])]),i("tr",[i("th",[e._v("mouseover_info")]),i("td",[e._v(e._s(e.mouseover_info))])])],2)])]):e._e()],2)},staticRenderFns:[]};t.a=n},usXP:function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0});var o=k(i("Zx67")),r=k(i("Zrlr")),a=k(i("wxAW")),s=k(i("zwoO")),_=k(i("yEsh")),u=k(i("Pf15")),l=k(i("OTSL")),c=k(i("7+uW")),d=k(i("M4fF")),f=k(i("iy8a")),p=k(i("+BTF")),h=k(i("P4Jg")),m=k(i("KqNh")),v=k(i("HLQd")),y=k(i("kHiN"));function k(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return(0,r.default)(this,t),(0,s.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"parse",value:function(){this.kifu_body=this.kifu_body.replace(/startpos/,"sfen lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b - 1");var e=(0,l.default)("sfen\\s+(?<board>\\S+)\\s+(?<b_or_w>\\S+)\\s+(?<hold_pieces>\\S+)\\s+(?<turn_counter_next>\\d+)(\\s+moves\\s+(?<moves>.*))?");this.attributes=l.default.exec(this.kifu_body,e)}},{key:"__location_by_upper_or_lower_case",value:function(e){var t=null;return t=/[A-Z]/.test(e)?"black":"white",y.default.fetch(t)}},{key:"board",get:function(){var e=this,t=new f.default;return this.attributes.board.split("/").forEach(function(i,n){var o=0;l.default.forEach(i,(0,l.default)("(?<promoted>\\+?)(?<piece>\\S)"),function(i,r){if(/\d+/.test(i.piece))o+=Number(i.piece);else{var a=new v.default({place:new m.default([o,n]),piece:h.default.fetch(i.piece),promoted:"+"===i.promoted,location:e.__location_by_upper_or_lower_case(i.piece)});t.place_on(a),o++}})}),t}},{key:"location_base",get:function(){var e=null;return e="b"===this.attributes.b_or_w?"black":"white",y.default.fetch(e)}},{key:"hold_pieces",get:function(){var e=this,i=(0,_.default)(t.prototype.__proto__||(0,o.default)(t.prototype),"hold_pieces",this);return"-"!==this.attributes.hold_pieces&&l.default.forEach(this.attributes.hold_pieces,(0,l.default)("(?<count>\\d+)?(?<piece_char>\\S)"),function(t,n){var o=h.default.fetch(t.piece_char),r=Number(t.count||1),a=e.__location_by_upper_or_lower_case(t.piece_char);r+=i[a.key][o.key]||0,c.default.set(i[a.key],o.key,r)}),i}},{key:"turn_base",get:function(){return Number(this.attributes.turn_counter_next)-1}},{key:"move_infos",get:function(){var e=this,t=[];return d.default.forEach(this.moves,function(i,n){var o={};o.location=e.location_base.advance(n);var r=l.default.exec(i,(0,l.default)("(?<origin_x>\\S)(?<origin_y>\\S)(?<pos_x>\\S)(?<pos_y>\\S)(?<promoted>\\+?)?"));if(!r)return!1;o.promoted_trigger="+"===r.promoted,"*"===r.origin_y?o.drop_piece=h.default.fetch(r.origin_x):o.origin_place=m.default.fetch(""+r.origin_x+r.origin_y),o.place=m.default.fetch(""+r.pos_x+r.pos_y),t.push(o)}),t}},{key:"moves",get:function(){var e=this.attributes.moves;return d.default.isNil(e)||""===e?[]:e.split(/\s+/)}},{key:"init_sfen",get:function(){var e=[];return e.push("position"),e.push("sfen"),e.push(this.init_sfen_strip),e.join(" ")}},{key:"init_sfen_strip",get:function(){var e=[];return e.push(this.attributes.board),e.push(this.attributes.b_or_w),e.push(this.attributes.hold_pieces),e.push(this.attributes.turn_counter_next),e.join(" ")}}],[{key:"parse",value:function(e){var t=new this(e);return t.parse(),t}}]),t}(p.default);if(t.default=b,e.argv[1]===n){b.parse("position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d"),b.parse("position sfen +lnsgkgsnl/1r5b1/ppppppppp/9/9/9/PPPPPPPPP/1B5R1/LNSGKGSNL b S2s 1 moves 7i6h S*2d")}}).call(t,i("W2nU"),"/index.js")},xGbI:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("+YQu"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("2TpH");var s=function(e){i("Ev2+")},_=i("VU/8")(o.a,a.a,!1,s,null,null);t.default=_.exports},z7Bs:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i("Gu7T")),o=u(i("M4fF")),r=u(i("KqNh")),a=(u(i("iy8a")),u(i("hWu2"))),s=u(i("HLQd")),_=u(i("kHiN"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={props:{},data:function(){return{place_from:null,have_piece:null,have_piece_location:null,have_piece_promoted:null,me_running_p:!1,$me_last_event:null,cursor_elem_in_board_container:!0,$cursor_elem:null,mouse_stick:!1,dialog_p:!1,$double_tap_time:null}},watch:{current_run_mode:function(){this.state_reset()}},beforeDestroy:function(){this.virtual_piece_destroy()},methods:{board_cell_left_click:function(e,t){var i=this;this.log("board_cell_left_click"),this.log("shiftKey: "+t.shiftKey);var n=r.default.fetch(e),u=this.board_cell_left_click_user_handle;if(!(u&&(this.log("ユーザー指定のクリックハンドル実行: "+n.human_digits),u(n,t))||this.if_view_mode_break)){var l=this.mediator.board.lookup(n),c=null,d=null;if(this.origin_soldier1&&(d=(c=new s.default({piece:this.origin_soldier1.piece,place:n,promoted:this.origin_soldier1.promoted,location:this.origin_soldier1.location})).promotable_p||this.origin_soldier1.promotable_p),this.cpu_location_p)this.log("片方の手番だけを操作できるようにする human_side_key の指定があってCPU側なので無効とする");else if("play_mode"!==this.current_run_mode||this.holding_p||!l||l.location===this.mediator.current_location)if("play_mode"===this.current_run_mode&&this.have_piece&&l)this.log("駒台や駒箱から持ち上げた駒を盤上の駒の上に置こうとしたので無効とする");else{if("play_mode"===this.current_run_mode&&this.have_piece&&!l){var f=this.soldier_create_from_stand_or_box_on(n),p=f.piece.piece_vector.force_promote_length;if(null!=p&&f.top_spaces<=p)return void this.log("駒台や駒箱から持ち上げた駒を置こうとしたけど死に駒なので無効とする")}if(this.holding_p||l)if("play_mode"===this.current_run_mode&&this.put_on_my_soldier_p(l))this.log("自分の駒の上に駒を重ねようとしたので無効とする(盤上の移動元の駒を含まない)");else{if("edit_mode"===this.current_run_mode){var h=this.$double_tap_time;if(this.$double_tap_time=Date.now(),l&&o.default.isEqual(this.place_from,n)&&h){var m=this.$double_tap_time-h,v=m<350;if(this.log("ダブルクリック判定: ("+m+" ms < 350) -> "+v),v)return this.log("操作モードで盤上の駒を持って同じ位置に戻したときに盤上の駒を裏返す"),this.mediator.board.place_on(l.piece_transform),void this.pice_hold_and_put_for_bug(n,t)}}if(o.default.isEqual(this.place_from,n))return this.log("盤上の駒を持って同じ位置に戻したので状況キャンセル"),void this.state_reset();if("edit_mode"===this.current_run_mode&&(this.log("holding_p: "+this.holding_p),this.meta_p(t)&&!this.holding_p&&l))return this.log("盤上の駒を裏返す"),this.mediator.board.place_on(l.piece_transform),void this.pice_hold_and_put_for_bug(n,t);if(!this.holding_p)return this.log("盤上の駒を持ちあげる"),void this.soldier_hold(n,t);if("play_mode"===this.current_run_mode&&this.place_from){var y=a.default.fetch(this.origin_soldier1.piece.key),k=this.place_from.x,b=this.place_from.y,g=null,x=!1;if(!x){g=this.origin_soldier1.promoted?y.promoted_once_vectors:y.basic_once_vectors;var P=a.default[g];P&&(x=P.some(function(e){if(e){var t=e[0],o=e[1]*i.origin_soldier1.location.value_sign,r=b+o;return k+t===n.x&&r===n.y}}))}if(!x){g=this.origin_soldier1.promoted?y.promoted_repeat_vectors:y.basic_repeat_vectors;var w=a.default[g];w&&(x=w.some(function(e){if(e)for(var t=e[0],o=e[1]*i.origin_soldier1.location.value_sign,a=k+t,s=b+o;r.default.xy_valid_p(a,s);){if(a===n.x&&s===n.y)return!0;var _=r.default.fetch([a,s]);if(i.mediator.board.lookup(_))break;a+=t,s+=o}}))}if(!x)return}if(!this.place_from){if(this.have_piece){this.log("持駒を置く"),l&&(this.have_piece_location?this.mediator.hold_pieces_add(this.have_piece_location,l.piece):this.mediator.hold_pieces_add(_.default.fetch("black"),l.piece));var $=this.soldier_create_from_stand_or_box_on(n);return this.piece_decriment(),this.mediator.board.place_on($),this.moves_set($.piece.key+"*"+n.to_sfen),this.state_reset(),void this.turn_next()}throw new Error("must not happen")}if(this.log("盤上から移動"),l&&this.mediator.hold_pieces_add(this.origin_soldier1.location,l.piece),"play_mode"===this.current_run_mode&&d){var C=!0,N=c.piece.piece_vector.force_promote_length;null!=N&&c.top_spaces<=N&&(this.promotable_piece_moved(c,!0),C=!1),C&&(this.mouse_stick=!1,this.dialog_p=!0,this.$buefy.dialog.confirm({message:"成りますか？",confirmText:"成る",cancelText:"成らない",onConfirm:function(){i.promotable_piece_moved(c,!0)},onCancel:function(){i.promotable_piece_moved(c,!1)}}))}else"play_mode"===this.current_run_mode&&this.moves_set(this.origin_soldier1.place.to_sfen+n.to_sfen),this.mediator.board.place_on(c),this.mediator.board.delete_at(this.place_from),this.state_reset(),this.turn_next()}else this.log("持たずに何もないところをクリックしたので無効とする")}else this.log("自分の手番で相手の駒を持ち上げようとしたので無効とする")}},promotable_piece_moved:function(e,t){this.dialog_p=!1,this.$set(e,"promoted",t),this.moves_set(this.origin_soldier1.place.to_sfen+e.place.to_sfen+(e.promoted?"+":"")),this.mediator.board.place_on(e),this.mediator.board.delete_at(this.place_from),this.state_reset(),this.turn_next()},board_cell_right_click:function(e,t){if(this.log("盤のセルを右クリック"),!this.if_view_mode_break){var i=r.default.fetch(e),n=this.mediator.board.lookup(i);this.hold_cancel(t)||"edit_mode"===this.current_run_mode&&!this.holding_p&&n&&(this.log("盤上の駒を裏返す"),this.mediator.board.place_on(n.piece_transform),this.pice_hold_and_put_for_bug(i,t))}},piece_stand_click_shared:function(e,t){return this.have_piece_location===e&&this.have_piece?(this.log("自分の駒台から駒を持ち上げているならキャンセル"),this.state_reset(),!0):"edit_mode"===this.current_run_mode&&this.have_piece?(this.hold_pieces_move_to_my_hold_pieces(t,e),!0):"play_mode"===this.current_run_mode&&this.origin_soldier1?(this.log("play_mode では盤上の駒を駒台に置くことはできない"),!0):!!this.origin_soldier1&&(this.log("盤上の駒を駒台に置く"),this.board_soldir_to_hold_pieces(e),!0)},piece_stand_click:function(e,t){this.piece_stand_click_shared(e,t)},piece_stand_piece_click:function(e,t,i,n){this.log("駒台の駒をクリック"),this.piece_stand_click_shared(e,n)||(this.mediator.hold_pieces_count(e,t)<=0?this.log("クリックしたけど持駒がない"):"play_mode"!==this.current_run_mode||e===this.mediator.current_location?this.cpu_location_p?this.log("片方の手番だけを操作できるようにする human_side_key の指定があってCPU側なので無効とする"):(this.log("駒台の駒を持つ"),this.have_piece=t,this.have_piece_location=e,this.have_piece_promoted=i,this.virtual_piece_create(n,this.origin_soldier2)):this.log("相手の持駒を持とうとしたときは無効"))},piece_box_have_p:function(e){return o.default.isNil(this.have_piece_location)&&this.have_piece===e},piece_box_other_click:function(e){if(this.log("piece_box_other_click:駒箱クリック"),o.default.isNil(this.have_piece_location)&&this.have_piece)return this.log("持っているならキャンセル"),this.state_reset(),!0;if(this.have_piece_location&&this.have_piece){this.log("駒台から駒箱に移動");var t=this.hold_piece_source_cut(e);return this.mediator.piece_box_add(this.have_piece,t),this.state_reset(),!0}return!!this.origin_soldier1&&(this.log("盤上の駒を駒箱に移動"),this.mediator.piece_box_add(this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset(),!0)},piece_box_piece_click:function(e,t){this.piece_box_other_click(t)||(this.log("piece_box_piece_click:駒箱の駒を持つ"),this.have_piece=e,this.have_piece_location=null,this.have_piece_promoted=!1,this.virtual_piece_create(t,this.origin_soldier2))},hold_cancel:function(e){return!(this.dialog_p||!this.holding_p)&&(this.log("持ち上げた駒を元に戻す"),this.state_reset(),!0)},board_soldir_to_hold_pieces:function(e){this.mediator.hold_pieces_add(e,this.origin_soldier1.piece),this.mediator.board.delete_at(this.origin_soldier1.place),this.state_reset()},hold_pieces_move_to_my_hold_pieces:function(e,t){this.log("相手の持駒を自分の駒台に移動");var i=this.hold_piece_source_cut(e);this.mediator.hold_pieces_add(t,this.have_piece,i),this.state_reset()},hold_piece_source_cut:function(e){var t=1;return this.have_piece_location?(this.log("相手の駒箱から移動"),this.meta_p(e)&&(this.log("シフトが押されていたので全部移動"),t=this.mediator.hold_pieces_count(this.have_piece_location,this.have_piece)),t=this.mediator.hold_pieces_can_be_reduced_count(this.have_piece_location,this.have_piece,t),this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-t)):(this.log("駒箱から移動"),this.meta_p(e)&&(this.log("シフトが押されていたので全部移動"),t=this.mediator.piece_box_count(this.have_piece)),t=this.mediator.piece_box_can_be_reduced_count(this.have_piece,t),this.mediator.piece_box_add(this.have_piece,-t)),t},piece_decriment:function(){this.have_piece_location?this.mediator.hold_pieces_add(this.have_piece_location,this.have_piece,-1):this.mediator.piece_box_add(this.have_piece,-1)},put_on_my_soldier_p:function(e){if(this.holding_p&&e&&e.location===this.mediator.current_location&&!o.default.isEqual(this.place_from,e.place))return!0},soldier_hold:function(e,t){this.place_from=e,this.virtual_piece_create(t,this.origin_soldier1)},state_reset:function(){this.dialog_p&&alert("ダイアログ表示中に state_reset が呼ばれてはいけない"),this.log("state_reset"),this.place_from=null,this.have_piece=null,this.have_piece_location=null,this.have_piece_promoted=null,this.virtual_piece_destroy()},pice_hold_and_put_for_bug:function(e,t){this.state_reset()},piece_box_piece_back_class:function(e){var t=[];return this.piece_box_have_p(e)?t.push("holding_p"):"edit_mode"===this.current_run_mode&&(this.holding_p||t.push("selectable_p")),t},piece_box_piece_inner_class:function(e){var t=[];return(t=o.default.concat(t,e.css_class_list)).push("location_black"),t.push("promoted_false"),t},fn_flip_all:function(){var e=this;this.mediator.board=this.mediator.board.flip_all,this.mediator.hold_pieces=o.default.reduce(_.default.values,function(t,i){return t[i.key]=e.mediator.hold_pieces[i.flip.key],t},{})},fn_flip_h:function(){this.mediator.board=this.mediator.board.flip_h},init_location_toggle:function(){this.init_location_key=this.init_location.flip.key},soldier_create_from_stand_or_box_on:function(e){return new s.default({piece:this.have_piece,place:e,promoted:this.have_piece_promoted||!1,location:this.have_piece_location||_.default.fetch("black")})},mousemove_hook:function(e){var t=this;this.$me_last_event=e,this.me_running_p||(this.me_running_p=!0,window.requestAnimationFrame(function(){t.cursor_elem_set_pos(),t.me_running_p=!1}))},click_hook:function(e){1!==e.which&&this.state_reset()},cursor_elem_set_pos:function(){if(this.$cursor_elem&&this.$me_last_event&&this.mouse_stick){var e=this.$me_last_event.clientX,t=this.$me_last_event.clientY;this.cursor_elem_in_board_container,this.$cursor_elem.style.left=e+"px",this.$cursor_elem.style.top=t+"px"}},virtual_piece_create:function(e,t){this.virtual_piece_destroy(),this.virtual_piece_dom_create(t),this.mouse_stick=!0,e&&(this.$me_last_event=e,this.cursor_elem_set_pos()),window.addEventListener("mousemove",this.mousemove_hook,!1),window.addEventListener("click",this.click_hook,!1)},virtual_piece_dom_create:function(e){var t;this.$cursor_elem=document.createElement("div"),this.$cursor_elem.classList.add("cursor_elem");var i=document.createElement("div");i.classList.add("piece_back");var o=document.createElement("div");(t=o.classList).add.apply(t,["piece_fore"].concat((0,n.default)(e.to_class_list)));var r=document.createTextNode(e.name);o.appendChild(r),this.current_flip&&i.classList.add("virtual_piece_flip"),i.appendChild(o),this.$cursor_elem.appendChild(i),this.$cursor_elem.style.left="-50%",this.$cursor_elem.style.top="-50%",this.cursor_elem_in_board_container?this.$refs.board_container_ref.appendChild(this.$cursor_elem):this.$el.appendChild(this.$cursor_elem)},virtual_piece_destroy:function(){this.$cursor_elem&&(this.cursor_elem_in_board_container?this.$refs.board_container_ref.removeChild(this.$cursor_elem):this.$el.removeChild(this.$cursor_elem),this.$cursor_elem=null,this.mouse_stick=!1,window.removeEventListener("mousemove",this.mousemove_hook,!1),window.removeEventListener("click",this.click_hook,!1))},meta_p:function(e){return e.shiftKey|e.ctrlKey|e.altKey|e.metaKey}},computed:{origin_soldier1:function(){if(this.place_from)return this.mediator.board.lookup(this.place_from)},origin_soldier2:function(){if(this.have_piece){var e=r.default.fetch([0,0]);return this.soldier_create_from_stand_or_box_on(e)}},holding_p:function(){return!o.default.isNil(this.place_from)||!o.default.isNil(this.have_piece)},cpu_location_p:function(){if("play_mode"===this.current_run_mode)return!o.default.includes(this.human_locations,this.mediator.current_location)},if_view_mode_break:function(){}}}},zlNq:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i("2uHW"),o=i.n(n);for(var r in n)"default"!==r&&function(e){i.d(t,e,function(){return n[e]})}(r);var a=i("2m4z"),s=i("VU/8")(o.a,a.a,!1,null,null,null);t.default=s.exports}},["oS6v"]);
//# sourceMappingURL=shogi_player.4367f6f9f137442b99b9.js.map